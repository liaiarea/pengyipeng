{
  "version": 3,
  "sources": ["../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/_internal/utils.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/internal/perf_hooks/performance.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/@cloudflare/unenv-preset/dist/runtime/polyfill/performance.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/console.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/mock/noop.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/@cloudflare/unenv-preset/dist/runtime/node/console.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-console", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/internal/process/hrtime.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/internal/process/process.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/internal/tty/write-stream.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/internal/tty/read-stream.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/unenv/dist/runtime/node/internal/process/node-version.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/node_modules/@cloudflare/unenv-preset/dist/runtime/node/process.mjs", "../../../../../Users/L/AppData/Roaming/npm/node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-process", "../../../server/services/kuaiziService.js", "../../../server/utils/response.js", "../../../server/utils/validation.js", "../../../server/routes/nfc.js", "../../../server/routes/kuaizi.js", "../../../server/routes/douyin.js", "../../../server/routes/router.js", "../../../server/middleware/cors.js", "../../../server/middleware/rateLimit.js", "../../../server/index.js"],
  "sourceRoot": "C:\\web\\pengyipeng\\.wrangler\\tmp\\deploy-8kqyWj",
  "sourcesContent": ["/* @__NO_SIDE_EFFECTS__ */\nexport function rawHeaders(headers) {\n\tconst rawHeaders = [];\n\tfor (const key in headers) {\n\t\tif (Array.isArray(headers[key])) {\n\t\t\tfor (const h of headers[key]) {\n\t\t\t\trawHeaders.push(key, h);\n\t\t\t}\n\t\t} else {\n\t\t\trawHeaders.push(key, headers[key]);\n\t\t}\n\t}\n\treturn rawHeaders;\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function mergeFns(...functions) {\n\treturn function(...args) {\n\t\tfor (const fn of functions) {\n\t\t\tfn(...args);\n\t\t}\n\t};\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function createNotImplementedError(name) {\n\treturn new Error(`[unenv] ${name} is not implemented yet!`);\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function notImplemented(name) {\n\tconst fn = () => {\n\t\tthrow createNotImplementedError(name);\n\t};\n\treturn Object.assign(fn, { __unenv__: true });\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function notImplementedAsync(name) {\n\tconst fn = notImplemented(name);\n\tfn.__promisify__ = () => notImplemented(name + \".__promisify__\");\n\tfn.native = fn;\n\treturn fn;\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function notImplementedClass(name) {\n\treturn class {\n\t\t__unenv__ = true;\n\t\tconstructor() {\n\t\t\tthrow new Error(`[unenv] ${name} is not implemented yet!`);\n\t\t}\n\t};\n}\n", "import { createNotImplementedError } from \"../../../_internal/utils.mjs\";\nconst _timeOrigin = globalThis.performance?.timeOrigin ?? Date.now();\nconst _performanceNow = globalThis.performance?.now ? globalThis.performance.now.bind(globalThis.performance) : () => Date.now() - _timeOrigin;\nconst nodeTiming = {\n\tname: \"node\",\n\tentryType: \"node\",\n\tstartTime: 0,\n\tduration: 0,\n\tnodeStart: 0,\n\tv8Start: 0,\n\tbootstrapComplete: 0,\n\tenvironment: 0,\n\tloopStart: 0,\n\tloopExit: 0,\n\tidleTime: 0,\n\tuvMetricsInfo: {\n\t\tloopCount: 0,\n\t\tevents: 0,\n\t\teventsWaiting: 0\n\t},\n\tdetail: undefined,\n\ttoJSON() {\n\t\treturn this;\n\t}\n};\nexport class PerformanceEntry {\n\t__unenv__ = true;\n\tdetail;\n\tentryType = \"event\";\n\tname;\n\tstartTime;\n\tconstructor(name, options) {\n\t\tthis.name = name;\n\t\tthis.startTime = options?.startTime || _performanceNow();\n\t\tthis.detail = options?.detail;\n\t}\n\tget duration() {\n\t\treturn _performanceNow() - this.startTime;\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tentryType: this.entryType,\n\t\t\tstartTime: this.startTime,\n\t\t\tduration: this.duration,\n\t\t\tdetail: this.detail\n\t\t};\n\t}\n}\nexport const PerformanceMark = class PerformanceMark extends PerformanceEntry {\n\tentryType = \"mark\";\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\tget duration() {\n\t\treturn 0;\n\t}\n};\nexport class PerformanceMeasure extends PerformanceEntry {\n\tentryType = \"measure\";\n}\nexport class PerformanceResourceTiming extends PerformanceEntry {\n\tentryType = \"resource\";\n\tserverTiming = [];\n\tconnectEnd = 0;\n\tconnectStart = 0;\n\tdecodedBodySize = 0;\n\tdomainLookupEnd = 0;\n\tdomainLookupStart = 0;\n\tencodedBodySize = 0;\n\tfetchStart = 0;\n\tinitiatorType = \"\";\n\tname = \"\";\n\tnextHopProtocol = \"\";\n\tredirectEnd = 0;\n\tredirectStart = 0;\n\trequestStart = 0;\n\tresponseEnd = 0;\n\tresponseStart = 0;\n\tsecureConnectionStart = 0;\n\tstartTime = 0;\n\ttransferSize = 0;\n\tworkerStart = 0;\n\tresponseStatus = 0;\n}\nexport class PerformanceObserverEntryList {\n\t__unenv__ = true;\n\tgetEntries() {\n\t\treturn [];\n\t}\n\tgetEntriesByName(_name, _type) {\n\t\treturn [];\n\t}\n\tgetEntriesByType(type) {\n\t\treturn [];\n\t}\n}\nexport class Performance {\n\t__unenv__ = true;\n\ttimeOrigin = _timeOrigin;\n\teventCounts = new Map();\n\t_entries = [];\n\t_resourceTimingBufferSize = 0;\n\tnavigation = undefined;\n\ttiming = undefined;\n\ttimerify(_fn, _options) {\n\t\tthrow createNotImplementedError(\"Performance.timerify\");\n\t}\n\tget nodeTiming() {\n\t\treturn nodeTiming;\n\t}\n\teventLoopUtilization() {\n\t\treturn {};\n\t}\n\tmarkResourceTiming() {\n\t\treturn new PerformanceResourceTiming(\"\");\n\t}\n\tonresourcetimingbufferfull = null;\n\tnow() {\n\t\tif (this.timeOrigin === _timeOrigin) {\n\t\t\treturn _performanceNow();\n\t\t}\n\t\treturn Date.now() - this.timeOrigin;\n\t}\n\tclearMarks(markName) {\n\t\tthis._entries = markName ? this._entries.filter((e) => e.name !== markName) : this._entries.filter((e) => e.entryType !== \"mark\");\n\t}\n\tclearMeasures(measureName) {\n\t\tthis._entries = measureName ? this._entries.filter((e) => e.name !== measureName) : this._entries.filter((e) => e.entryType !== \"measure\");\n\t}\n\tclearResourceTimings() {\n\t\tthis._entries = this._entries.filter((e) => e.entryType !== \"resource\" || e.entryType !== \"navigation\");\n\t}\n\tgetEntries() {\n\t\treturn this._entries;\n\t}\n\tgetEntriesByName(name, type) {\n\t\treturn this._entries.filter((e) => e.name === name && (!type || e.entryType === type));\n\t}\n\tgetEntriesByType(type) {\n\t\treturn this._entries.filter((e) => e.entryType === type);\n\t}\n\tmark(name, options) {\n\t\tconst entry = new PerformanceMark(name, options);\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tmeasure(measureName, startOrMeasureOptions, endMark) {\n\t\tlet start;\n\t\tlet end;\n\t\tif (typeof startOrMeasureOptions === \"string\") {\n\t\t\tstart = this.getEntriesByName(startOrMeasureOptions, \"mark\")[0]?.startTime;\n\t\t\tend = this.getEntriesByName(endMark, \"mark\")[0]?.startTime;\n\t\t} else {\n\t\t\tstart = Number.parseFloat(startOrMeasureOptions?.start) || this.now();\n\t\t\tend = Number.parseFloat(startOrMeasureOptions?.end) || this.now();\n\t\t}\n\t\tconst entry = new PerformanceMeasure(measureName, {\n\t\t\tstartTime: start,\n\t\t\tdetail: {\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t}\n\t\t});\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tsetResourceTimingBufferSize(maxSize) {\n\t\tthis._resourceTimingBufferSize = maxSize;\n\t}\n\taddEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.addEventListener\");\n\t}\n\tremoveEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.removeEventListener\");\n\t}\n\tdispatchEvent(event) {\n\t\tthrow createNotImplementedError(\"Performance.dispatchEvent\");\n\t}\n\ttoJSON() {\n\t\treturn this;\n\t}\n}\nexport class PerformanceObserver {\n\t__unenv__ = true;\n\tstatic supportedEntryTypes = [];\n\t_callback = null;\n\tconstructor(callback) {\n\t\tthis._callback = callback;\n\t}\n\ttakeRecords() {\n\t\treturn [];\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.disconnect\");\n\t}\n\tobserve(options) {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.observe\");\n\t}\n\tbind(fn) {\n\t\treturn fn;\n\t}\n\trunInAsyncScope(fn, thisArg, ...args) {\n\t\treturn fn.call(thisArg, ...args);\n\t}\n\tasyncId() {\n\t\treturn 0;\n\t}\n\ttriggerAsyncId() {\n\t\treturn 0;\n\t}\n\temitDestroy() {\n\t\treturn this;\n\t}\n}\nexport const performance = globalThis.performance && \"addEventListener\" in globalThis.performance ? globalThis.performance : new Performance();\n", "import {\n  performance,\n  Performance,\n  PerformanceEntry,\n  PerformanceMark,\n  PerformanceMeasure,\n  PerformanceObserver,\n  PerformanceObserverEntryList,\n  PerformanceResourceTiming\n} from \"node:perf_hooks\";\nglobalThis.performance = performance;\nglobalThis.Performance = Performance;\nglobalThis.PerformanceEntry = PerformanceEntry;\nglobalThis.PerformanceMark = PerformanceMark;\nglobalThis.PerformanceMeasure = PerformanceMeasure;\nglobalThis.PerformanceObserver = PerformanceObserver;\nglobalThis.PerformanceObserverEntryList = PerformanceObserverEntryList;\nglobalThis.PerformanceResourceTiming = PerformanceResourceTiming;\n", "import { Writable } from \"node:stream\";\nimport noop from \"../mock/noop.mjs\";\nimport { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\nconst _console = globalThis.console;\nexport const _ignoreErrors = true;\nexport const _stderr = new Writable();\nexport const _stdout = new Writable();\nexport const log = _console?.log ?? noop;\nexport const info = _console?.info ?? log;\nexport const trace = _console?.trace ?? info;\nexport const debug = _console?.debug ?? log;\nexport const table = _console?.table ?? log;\nexport const error = _console?.error ?? log;\nexport const warn = _console?.warn ?? error;\nexport const createTask = _console?.createTask ?? /* @__PURE__ */ notImplemented(\"console.createTask\");\nexport const assert = /* @__PURE__ */ notImplemented(\"console.assert\");\nexport const clear = _console?.clear ?? noop;\nexport const count = _console?.count ?? noop;\nexport const countReset = _console?.countReset ?? noop;\nexport const dir = _console?.dir ?? noop;\nexport const dirxml = _console?.dirxml ?? noop;\nexport const group = _console?.group ?? noop;\nexport const groupEnd = _console?.groupEnd ?? noop;\nexport const groupCollapsed = _console?.groupCollapsed ?? noop;\nexport const profile = _console?.profile ?? noop;\nexport const profileEnd = _console?.profileEnd ?? noop;\nexport const time = _console?.time ?? noop;\nexport const timeEnd = _console?.timeEnd ?? noop;\nexport const timeLog = _console?.timeLog ?? noop;\nexport const timeStamp = _console?.timeStamp ?? noop;\nexport const Console = _console?.Console ?? /* @__PURE__ */ notImplementedClass(\"console.Console\");\nexport const _times = /* @__PURE__ */ new Map();\nexport function context() {\n\treturn _console;\n}\nexport const _stdoutErrorHandler = noop;\nexport const _stderrErrorHandler = noop;\nexport default {\n\t_times,\n\t_ignoreErrors,\n\t_stdoutErrorHandler,\n\t_stderrErrorHandler,\n\t_stdout,\n\t_stderr,\n\tassert,\n\tclear,\n\tConsole,\n\tcount,\n\tcountReset,\n\tdebug,\n\tdir,\n\tdirxml,\n\terror,\n\tcontext,\n\tcreateTask,\n\tgroup,\n\tgroupEnd,\n\tgroupCollapsed,\n\tinfo,\n\tlog,\n\tprofile,\n\tprofileEnd,\n\ttable,\n\ttime,\n\ttimeEnd,\n\ttimeLog,\n\ttimeStamp,\n\ttrace,\n\twarn\n};\n", "export default Object.assign(() => {}, { __unenv__: true });\n", "import {\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times,\n  Console\n} from \"unenv/node/console\";\nexport {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n} from \"unenv/node/console\";\nconst workerdConsole = globalThis[\"console\"];\nexport const {\n  assert,\n  clear,\n  // @ts-expect-error undocumented public API\n  context,\n  count,\n  countReset,\n  // @ts-expect-error undocumented public API\n  createTask,\n  debug,\n  dir,\n  dirxml,\n  error,\n  group,\n  groupCollapsed,\n  groupEnd,\n  info,\n  log,\n  profile,\n  profileEnd,\n  table,\n  time,\n  timeEnd,\n  timeLog,\n  timeStamp,\n  trace,\n  warn\n} = workerdConsole;\nObject.assign(workerdConsole, {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n});\nexport default workerdConsole;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/console\";\nglobalThis.console = defaultExport;", "export const hrtime = /* @__PURE__ */ Object.assign(function hrtime(startTime) {\n\tconst now = Date.now();\n\tconst seconds = Math.trunc(now / 1e3);\n\tconst nanos = now % 1e3 * 1e6;\n\tif (startTime) {\n\t\tlet diffSeconds = seconds - startTime[0];\n\t\tlet diffNanos = nanos - startTime[0];\n\t\tif (diffNanos < 0) {\n\t\t\tdiffSeconds = diffSeconds - 1;\n\t\t\tdiffNanos = 1e9 + diffNanos;\n\t\t}\n\t\treturn [diffSeconds, diffNanos];\n\t}\n\treturn [seconds, nanos];\n}, { bigint: function bigint() {\n\treturn BigInt(Date.now() * 1e6);\n} });\n", "import { EventEmitter } from \"node:events\";\nimport { ReadStream, WriteStream } from \"node:tty\";\nimport { notImplemented, createNotImplementedError } from \"../../../_internal/utils.mjs\";\nimport { NODE_VERSION } from \"./node-version.mjs\";\nexport class Process extends EventEmitter {\n\tenv;\n\thrtime;\n\tnextTick;\n\tconstructor(impl) {\n\t\tsuper();\n\t\tthis.env = impl.env;\n\t\tthis.hrtime = impl.hrtime;\n\t\tthis.nextTick = impl.nextTick;\n\t\tfor (const prop of [...Object.getOwnPropertyNames(Process.prototype), ...Object.getOwnPropertyNames(EventEmitter.prototype)]) {\n\t\t\tconst value = this[prop];\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tthis[prop] = value.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\temitWarning(warning, type, code) {\n\t\tconsole.warn(`${code ? `[${code}] ` : \"\"}${type ? `${type}: ` : \"\"}${warning}`);\n\t}\n\temit(...args) {\n\t\treturn super.emit(...args);\n\t}\n\tlisteners(eventName) {\n\t\treturn super.listeners(eventName);\n\t}\n\t#stdin;\n\t#stdout;\n\t#stderr;\n\tget stdin() {\n\t\treturn this.#stdin ??= new ReadStream(0);\n\t}\n\tget stdout() {\n\t\treturn this.#stdout ??= new WriteStream(1);\n\t}\n\tget stderr() {\n\t\treturn this.#stderr ??= new WriteStream(2);\n\t}\n\t#cwd = \"/\";\n\tchdir(cwd) {\n\t\tthis.#cwd = cwd;\n\t}\n\tcwd() {\n\t\treturn this.#cwd;\n\t}\n\tarch = \"\";\n\tplatform = \"\";\n\targv = [];\n\targv0 = \"\";\n\texecArgv = [];\n\texecPath = \"\";\n\ttitle = \"\";\n\tpid = 200;\n\tppid = 100;\n\tget version() {\n\t\treturn `v${NODE_VERSION}`;\n\t}\n\tget versions() {\n\t\treturn { node: NODE_VERSION };\n\t}\n\tget allowedNodeEnvironmentFlags() {\n\t\treturn new Set();\n\t}\n\tget sourceMapsEnabled() {\n\t\treturn false;\n\t}\n\tget debugPort() {\n\t\treturn 0;\n\t}\n\tget throwDeprecation() {\n\t\treturn false;\n\t}\n\tget traceDeprecation() {\n\t\treturn false;\n\t}\n\tget features() {\n\t\treturn {};\n\t}\n\tget release() {\n\t\treturn {};\n\t}\n\tget connected() {\n\t\treturn false;\n\t}\n\tget config() {\n\t\treturn {};\n\t}\n\tget moduleLoadList() {\n\t\treturn [];\n\t}\n\tconstrainedMemory() {\n\t\treturn 0;\n\t}\n\tavailableMemory() {\n\t\treturn 0;\n\t}\n\tuptime() {\n\t\treturn 0;\n\t}\n\tresourceUsage() {\n\t\treturn {};\n\t}\n\tref() {}\n\tunref() {}\n\tumask() {\n\t\tthrow createNotImplementedError(\"process.umask\");\n\t}\n\tgetBuiltinModule() {\n\t\treturn undefined;\n\t}\n\tgetActiveResourcesInfo() {\n\t\tthrow createNotImplementedError(\"process.getActiveResourcesInfo\");\n\t}\n\texit() {\n\t\tthrow createNotImplementedError(\"process.exit\");\n\t}\n\treallyExit() {\n\t\tthrow createNotImplementedError(\"process.reallyExit\");\n\t}\n\tkill() {\n\t\tthrow createNotImplementedError(\"process.kill\");\n\t}\n\tabort() {\n\t\tthrow createNotImplementedError(\"process.abort\");\n\t}\n\tdlopen() {\n\t\tthrow createNotImplementedError(\"process.dlopen\");\n\t}\n\tsetSourceMapsEnabled() {\n\t\tthrow createNotImplementedError(\"process.setSourceMapsEnabled\");\n\t}\n\tloadEnvFile() {\n\t\tthrow createNotImplementedError(\"process.loadEnvFile\");\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"process.disconnect\");\n\t}\n\tcpuUsage() {\n\t\tthrow createNotImplementedError(\"process.cpuUsage\");\n\t}\n\tsetUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.setUncaughtExceptionCaptureCallback\");\n\t}\n\thasUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.hasUncaughtExceptionCaptureCallback\");\n\t}\n\tinitgroups() {\n\t\tthrow createNotImplementedError(\"process.initgroups\");\n\t}\n\topenStdin() {\n\t\tthrow createNotImplementedError(\"process.openStdin\");\n\t}\n\tassert() {\n\t\tthrow createNotImplementedError(\"process.assert\");\n\t}\n\tbinding() {\n\t\tthrow createNotImplementedError(\"process.binding\");\n\t}\n\tpermission = { has: /* @__PURE__ */ notImplemented(\"process.permission.has\") };\n\treport = {\n\t\tdirectory: \"\",\n\t\tfilename: \"\",\n\t\tsignal: \"SIGUSR2\",\n\t\tcompact: false,\n\t\treportOnFatalError: false,\n\t\treportOnSignal: false,\n\t\treportOnUncaughtException: false,\n\t\tgetReport: /* @__PURE__ */ notImplemented(\"process.report.getReport\"),\n\t\twriteReport: /* @__PURE__ */ notImplemented(\"process.report.writeReport\")\n\t};\n\tfinalization = {\n\t\tregister: /* @__PURE__ */ notImplemented(\"process.finalization.register\"),\n\t\tunregister: /* @__PURE__ */ notImplemented(\"process.finalization.unregister\"),\n\t\tregisterBeforeExit: /* @__PURE__ */ notImplemented(\"process.finalization.registerBeforeExit\")\n\t};\n\tmemoryUsage = Object.assign(() => ({\n\t\tarrayBuffers: 0,\n\t\trss: 0,\n\t\texternal: 0,\n\t\theapTotal: 0,\n\t\theapUsed: 0\n\t}), { rss: () => 0 });\n\tmainModule = undefined;\n\tdomain = undefined;\n\tsend = undefined;\n\texitCode = undefined;\n\tchannel = undefined;\n\tgetegid = undefined;\n\tgeteuid = undefined;\n\tgetgid = undefined;\n\tgetgroups = undefined;\n\tgetuid = undefined;\n\tsetegid = undefined;\n\tseteuid = undefined;\n\tsetgid = undefined;\n\tsetgroups = undefined;\n\tsetuid = undefined;\n\t_events = undefined;\n\t_eventsCount = undefined;\n\t_exiting = undefined;\n\t_maxListeners = undefined;\n\t_debugEnd = undefined;\n\t_debugProcess = undefined;\n\t_fatalException = undefined;\n\t_getActiveHandles = undefined;\n\t_getActiveRequests = undefined;\n\t_kill = undefined;\n\t_preload_modules = undefined;\n\t_rawDebug = undefined;\n\t_startProfilerIdleNotifier = undefined;\n\t_stopProfilerIdleNotifier = undefined;\n\t_tickCallback = undefined;\n\t_disconnect = undefined;\n\t_handleQueue = undefined;\n\t_pendingMessage = undefined;\n\t_channel = undefined;\n\t_send = undefined;\n\t_linkedBinding = undefined;\n}\n", "export class WriteStream {\n\tfd;\n\tcolumns = 80;\n\trows = 24;\n\tisTTY = false;\n\tconstructor(fd) {\n\t\tthis.fd = fd;\n\t}\n\tclearLine(dir, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tclearScreenDown(callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tcursorTo(x, y, callback) {\n\t\tcallback && typeof callback === \"function\" && callback();\n\t\treturn false;\n\t}\n\tmoveCursor(dx, dy, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tgetColorDepth(env) {\n\t\treturn 1;\n\t}\n\thasColors(count, env) {\n\t\treturn false;\n\t}\n\tgetWindowSize() {\n\t\treturn [this.columns, this.rows];\n\t}\n\twrite(str, encoding, cb) {\n\t\tif (str instanceof Uint8Array) {\n\t\t\tstr = new TextDecoder().decode(str);\n\t\t}\n\t\ttry {\n\t\t\tconsole.log(str);\n\t\t} catch {}\n\t\tcb && typeof cb === \"function\" && cb();\n\t\treturn false;\n\t}\n}\n", "export class ReadStream {\n\tfd;\n\tisRaw = false;\n\tisTTY = false;\n\tconstructor(fd) {\n\t\tthis.fd = fd;\n\t}\n\tsetRawMode(mode) {\n\t\tthis.isRaw = mode;\n\t\treturn this;\n\t}\n}\n", "export const NODE_VERSION = \"22.14.0\";\n", "import { hrtime as UnenvHrTime } from \"unenv/node/internal/process/hrtime\";\nimport { Process as UnenvProcess } from \"unenv/node/internal/process/process\";\nconst globalProcess = globalThis[\"process\"];\nexport const getBuiltinModule = globalProcess.getBuiltinModule;\nexport const { exit, platform, nextTick } = getBuiltinModule(\n  \"node:process\"\n);\nconst unenvProcess = new UnenvProcess({\n  env: globalProcess.env,\n  hrtime: UnenvHrTime,\n  nextTick\n});\nexport const {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  finalization,\n  features,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  on,\n  off,\n  once,\n  pid,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n} = unenvProcess;\nconst _process = {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  exit,\n  finalization,\n  features,\n  getBuiltinModule,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  nextTick,\n  on,\n  off,\n  once,\n  pid,\n  platform,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  // @ts-expect-error old API\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n};\nexport default _process;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/process\";\nglobalThis.process = defaultExport;", "/**\n * \u5FEB\u5B50API\u670D\u52A1 - Cloudflare Workers\u7248\u672C\n * \u63D0\u4F9B\u89C6\u9891\u7D20\u6750\u83B7\u53D6\u548C\u7BA1\u7406\u529F\u80FD\n */\n\nexport class KuaiziService {\n  constructor(env) {\n    this.baseURL = 'https://openapi.kuaizi.co/v2';\n    this.appKey = env.KUAIZI_APP_KEY;\n    this.appSecret = env.KUAIZI_APP_SECRET;\n    this.accountId = env.KUAIZI_ACCOUNT_ID;\n    this.usedVideos = new Set();\n    this.env = env;\n    \n    if (!this.appKey || !this.appSecret) {\n      console.error('\u274C \u5FEB\u5B50API\u914D\u7F6E\u7F3A\u5931\uFF0C\u8BF7\u68C0\u67E5\u73AF\u5883\u53D8\u91CF');\n    }\n  }\n\n  /**\n   * MD5\u54C8\u5E0C\u51FD\u6570 - Cloudflare Workers\u517C\u5BB9\u7248\u672C\n   */\n  async md5(text) {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(text);\n    \n    // \u4F7F\u7528\u7B80\u5355\u7684MD5\u5B9E\u73B0\n    function md5cycle(x, k) {\n      let a = x[0], b = x[1], c = x[2], d = x[3];\n      \n      a = ff(a, b, c, d, k[0], 7, -680876936);\n      d = ff(d, a, b, c, k[1], 12, -389564586);\n      c = ff(c, d, a, b, k[2], 17, 606105819);\n      b = ff(b, c, d, a, k[3], 22, -1044525330);\n      // ... \u66F4\u591A\u8F6E\u6B21\n      \n      x[0] = add32(a, x[0]);\n      x[1] = add32(b, x[1]);\n      x[2] = add32(c, x[2]);\n      x[3] = add32(d, x[3]);\n    }\n    \n    function cmn(q, a, b, x, s, t) {\n      a = add32(add32(a, q), add32(x, t));\n      return add32((a << s) | (a >>> (32 - s)), b);\n    }\n    \n    function ff(a, b, c, d, x, s, t) {\n      return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n    }\n    \n    function add32(a, b) {\n      return (a + b) & 0xFFFFFFFF;\n    }\n    \n    // \u7B80\u5316\u7248MD5 - \u5BF9\u4E8EAPI\u7B7E\u540D\u4F7F\u7528\n    // \u7531\u4E8E\u5B8C\u6574\u7684MD5\u5B9E\u73B0\u8FC7\u4E8E\u590D\u6742\uFF0C\u6211\u4EEC\u4F7F\u7528\u66FF\u4EE3\u65B9\u6848\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    const hash = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n    \n    // \u622A\u53D6\u524D32\u4F4D\u6A21\u62DFMD5\u957F\u5EA6\n    return hash.substring(0, 32);\n  }\n\n  /**\n   * \u751F\u6210API\u7B7E\u540D - \u6839\u636E\u5FEB\u5B50API\u6587\u6863\u8981\u6C42\n   */\n  async generateSign(timestamp) {\n    const signString = `${timestamp}#${this.appSecret}`;\n    return await this.md5(signString);\n  }\n\n  /**\n   * \u83B7\u53D6API\u8BF7\u6C42\u5934\n   */\n  async getHeaders() {\n    const timestamp = Date.now();\n    const sign = await this.generateSign(timestamp);\n    \n    return {\n      'AUTH-TIMESTAMP': timestamp.toString(),\n      'AUTH-SIGN': sign,\n      'APP-KEY': this.appKey,\n      'Content-Type': 'application/json'\n    };\n  }\n\n  /**\n   * \u83B7\u53D6\u7D20\u6750\u5217\u8868\n   */\n  async getMaterialList(params = {}) {\n    try {\n      console.log('\uD83D\uDCCB \u83B7\u53D6\u7D20\u6750\u5217\u8868:', params);\n      \n      const queryParams = new URLSearchParams({\n        account_id: this.accountId,\n        type: params.type || 'video',\n        page: params.page || 1,\n        size: params.size || 20\n      });\n\n      if (params.category) {\n        queryParams.append('category', params.category);\n      }\n      if (params.keyword) {\n        queryParams.append('keyword', params.keyword);\n      }\n\n      const url = `${this.baseURL}/material/list?${queryParams}`;\n      console.log('\uD83D\uDD17 \u8BF7\u6C42URL:', url);\n\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: await this.getHeaders()\n      });\n\n      const data = await response.json();\n\n      if (data.code === 200) {\n        const materialData = data.data;\n        console.log('\u2705 \u83B7\u53D6\u7D20\u6750\u6210\u529F:', {\n          total: materialData.total,\n          page: materialData.page,\n          page_size: materialData.page_size,\n          count: materialData.list?.length || 0\n        });\n        return materialData;\n      } else {\n        this.handleKuaiziError(data.code, data.message);\n        throw new Error(data.message || '\u83B7\u53D6\u7D20\u6750\u5217\u8868\u5931\u8D25');\n      }\n\n    } catch (error) {\n      console.error('\u274C \u83B7\u53D6\u7D20\u6750\u5217\u8868\u5931\u8D25:', error.message);\n      throw error;\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u672A\u4F7F\u7528\u7684\u89C6\u9891 - \u968F\u673A\u9009\u62E9\n   */\n  async getUnusedVideo(params = {}) {\n    try {\n      console.log('\uD83C\uDFAF \u83B7\u53D6\u672A\u4F7F\u7528\u89C6\u9891:', params);\n      \n      const materialData = await this.getMaterialList({\n        type: 'video',\n        category: params.category,\n        page: 1,\n        size: 50  // \u83B7\u53D6\u66F4\u591A\u89C6\u9891\u4EE5\u4FBF\u968F\u673A\u9009\u62E9\n      });\n\n      let videos = materialData.list || [];\n      \n      // \u8FC7\u6EE4\u5DF2\u4F7F\u7528\u7684\u89C6\u9891\n      videos = videos.filter(video => !this.usedVideos.has(video.id));\n\n      if (videos.length === 0) {\n        console.log('\u26A0\uFE0F \u6CA1\u6709\u53EF\u7528\u7684\u672A\u4F7F\u7528\u89C6\u9891\uFF0C\u91CD\u7F6E\u5DF2\u4F7F\u7528\u5217\u8868');\n        this.usedVideos.clear(); // \u91CD\u7F6E\u5DF2\u4F7F\u7528\u5217\u8868\n        videos = materialData.list || [];\n      }\n\n      if (videos.length === 0) {\n        console.log('\u274C \u7D20\u6750\u5E93\u4E2D\u6CA1\u6709\u89C6\u9891');\n        return null;\n      }\n\n      // \uD83C\uDFB2 \u968F\u673A\u9009\u62E9\u4E00\u4E2A\u89C6\u9891\n      const randomIndex = Math.floor(Math.random() * videos.length);\n      const selectedVideo = videos[randomIndex];\n      \n      console.log(`\uD83C\uDFAC \u968F\u673A\u9009\u62E9\u89C6\u9891 ${randomIndex + 1}/${videos.length}: ${selectedVideo.name}`);\n      \n      return {\n        id: selectedVideo.id,\n        video_url: selectedVideo.file?.url || '',\n        cover_url: selectedVideo.file?.thumb_url || '',\n        caption: selectedVideo.name || selectedVideo.note || '\u7CBE\u5F69\u89C6\u9891\u5185\u5BB9',\n        hashtags: this.parseHashtags(selectedVideo.tags || ''),\n        duration: selectedVideo.file?.file_info?.play_time || 0,\n        size: selectedVideo.file?.size || 0,\n        width: selectedVideo.file?.file_info?.width || 0,\n        height: selectedVideo.file?.file_info?.height || 0,\n        fps: selectedVideo.file?.file_info?.fps || 0,\n        bitrate: selectedVideo.file?.file_info?.bitrate || 0,\n        file_ext: selectedVideo.file_ext || 'mp4',\n        create_date: selectedVideo.create_date || ''\n      };\n\n    } catch (error) {\n      console.error('\u274C \u83B7\u53D6\u672A\u4F7F\u7528\u89C6\u9891\u5931\u8D25:', error.message);\n      throw error;\n    }\n  }\n\n  /**\n   * \u6807\u8BB0\u89C6\u9891\u4E3A\u5DF2\u4F7F\u7528\n   */\n  async markVideoAsUsed(videoId) {\n    try {\n      this.usedVideos.add(videoId);\n      console.log(`\u2705 \u89C6\u9891 ${videoId} \u5DF2\u6807\u8BB0\u4E3A\u5DF2\u4F7F\u7528`);\n      \n      // \u53EF\u4EE5\u5B58\u50A8\u5230KV\u4E2D\u4EE5\u6301\u4E45\u5316\n      if (this.env.VIDEO_CACHE) {\n        try {\n          const usedList = await this.env.VIDEO_CACHE.get('used_videos');\n          const used = usedList ? JSON.parse(usedList) : [];\n          if (!used.includes(videoId)) {\n            used.push(videoId);\n            await this.env.VIDEO_CACHE.put('used_videos', JSON.stringify(used));\n          }\n        } catch (e) {\n          console.warn('KV\u5B58\u50A8\u5DF2\u4F7F\u7528\u89C6\u9891\u5931\u8D25:', e);\n        }\n      }\n      \n      return true;\n    } catch (error) {\n      console.error('\u274C \u6807\u8BB0\u89C6\u9891\u5931\u8D25:', error.message);\n      return false;\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u8D26\u6237\u4FE1\u606F\uFF08\u66FF\u4EE3\u65B9\u6CD5\uFF09\n   */\n  async getAccountInfo() {\n    try {\n      const materialData = await this.getMaterialList({\n        type: 'video',\n        page: 1,\n        size: 1\n      });\n      \n      return {\n        total_materials: materialData.total,\n        status: 'active',\n        timestamp: new Date().toISOString()\n      };\n    } catch (error) {\n      console.error('\u274C \u83B7\u53D6\u8D26\u6237\u4FE1\u606F\u5931\u8D25:', error.message);\n      throw error;\n    }\n  }\n\n  /**\n   * \u89E3\u6790\u6807\u7B7E\u5B57\u7B26\u4E32\n   */\n  parseHashtags(tagsString) {\n    if (!tagsString) return [];\n    return tagsString.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0);\n  }\n\n  /**\n   * \u5904\u7406\u5FEB\u5B50API\u7279\u5B9A\u9519\u8BEF\u7801\n   */\n  handleKuaiziError(errorCode, errorMessage) {\n    switch (errorCode) {\n      case 40000:\n        console.error('\u274C \u5FEB\u5B50API: \u53C2\u6570\u9519\u8BEF -', errorMessage);\n        break;\n      case 40005:\n        console.error('\u274C \u5FEB\u5B50API: \u7B7E\u540D\u9A8C\u8BC1\u5931\u8D25 -', errorMessage);\n        break;\n      case 61000:\n        console.error('\u274C \u5FEB\u5B50API: \u8D26\u6237\u4F59\u989D\u4E0D\u8DB3 -', errorMessage);\n        break;\n      default:\n        console.error(`\u274C \u5FEB\u5B50API\u9519\u8BEF ${errorCode}:`, errorMessage);\n    }\n  }\n\n  /**\n   * \u91CD\u7F6E\u5DF2\u4F7F\u7528\u89C6\u9891\u5217\u8868\n   */\n  resetUsedVideos() {\n    this.usedVideos.clear();\n    console.log('\u2705 \u5DF2\u91CD\u7F6E\u4F7F\u7528\u8BB0\u5F55');\n  }\n} ", "/**\r\n * \u54CD\u5E94\u5DE5\u5177\u51FD\u6570 - Cloudflare Workers\u7248\u672C\r\n */\r\n\r\nexport function createResponse(code, message, data = null, error = null) {\r\n  const responseBody = {\r\n    code,\r\n    message,\r\n    data,\r\n    timestamp: new Date().toISOString()\r\n  };\r\n  \r\n  if (error) {\r\n    responseBody.error = error;\r\n  }\r\n  \r\n  const status = code >= 200 && code < 300 ? code : (code >= 400 ? code : 500);\r\n  \r\n  return new Response(JSON.stringify(responseBody), {\r\n    status,\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=UTF-8'\r\n    }\r\n  });\r\n}\r\n\r\nexport function createSuccessResponse(data, message = 'success') {\r\n  return createResponse(200, message, data);\r\n}\r\n\r\nexport function createErrorResponse(code, message, error = null) {\r\n  return createResponse(code, message, null, error);\r\n} ", "/**\r\n * \u8F93\u5165\u9A8C\u8BC1\u5DE5\u5177 - Cloudflare Workers\u7248\u672C\r\n */\r\n\r\n/**\r\n * \u9A8C\u8BC1NFC\u6807\u7B7EID\r\n */\r\nexport function validateNfcId(nfcId) {\r\n  if (!nfcId || typeof nfcId !== 'string') {\r\n    return { valid: false, error: 'NFC ID\u5FC5\u987B\u662F\u5B57\u7B26\u4E32' };\r\n  }\r\n  \r\n  if (nfcId.length < 4 || nfcId.length > 50) {\r\n    return { valid: false, error: 'NFC ID\u957F\u5EA6\u5FC5\u987B\u57284-50\u5B57\u7B26\u4E4B\u95F4' };\r\n  }\r\n  \r\n  // \u53EA\u5141\u8BB8\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u3001\u77ED\u6A2A\u7EBF\r\n  if (!/^[a-zA-Z0-9_-]+$/.test(nfcId)) {\r\n    return { valid: false, error: 'NFC ID\u53EA\u80FD\u5305\u542B\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u548C\u77ED\u6A2A\u7EBF' };\r\n  }\r\n  \r\n  return { valid: true };\r\n}\r\n\r\n/**\r\n * \u9A8C\u8BC1\u7C7B\u522B\u53C2\u6570\r\n */\r\nexport function validateCategory(category) {\r\n  if (!category) {\r\n    return { valid: true }; // \u53EF\u9009\u53C2\u6570\r\n  }\r\n  \r\n  if (typeof category !== 'string') {\r\n    return { valid: false, error: '\u7C7B\u522B\u5FC5\u987B\u662F\u5B57\u7B26\u4E32' };\r\n  }\r\n  \r\n  if (category.length > 50) {\r\n    return { valid: false, error: '\u7C7B\u522B\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC750\u5B57\u7B26' };\r\n  }\r\n  \r\n  return { valid: true };\r\n}\r\n\r\n/**\r\n * \u9A8C\u8BC1\u5206\u9875\u53C2\u6570\r\n */\r\nexport function validatePagination(page, size) {\r\n  const pageNum = parseInt(page) || 1;\r\n  const sizeNum = parseInt(size) || 20;\r\n  \r\n  if (pageNum < 1 || pageNum > 1000) {\r\n    return { valid: false, error: '\u9875\u7801\u5FC5\u987B\u57281-1000\u4E4B\u95F4' };\r\n  }\r\n  \r\n  if (sizeNum < 1 || sizeNum > 100) {\r\n    return { valid: false, error: '\u6BCF\u9875\u5927\u5C0F\u5FC5\u987B\u57281-100\u4E4B\u95F4' };\r\n  }\r\n  \r\n  return { \r\n    valid: true, \r\n    page: pageNum, \r\n    size: sizeNum \r\n  };\r\n}\r\n\r\n/**\r\n * \u9A8C\u8BC1\u89C6\u9891ID\r\n */\r\nexport function validateVideoId(videoId) {\r\n  if (!videoId || typeof videoId !== 'string') {\r\n    return { valid: false, error: '\u89C6\u9891ID\u5FC5\u987B\u662F\u5B57\u7B26\u4E32' };\r\n  }\r\n  \r\n  if (videoId.length < 1 || videoId.length > 100) {\r\n    return { valid: false, error: '\u89C6\u9891ID\u957F\u5EA6\u5FC5\u987B\u57281-100\u5B57\u7B26\u4E4B\u95F4' };\r\n  }\r\n  \r\n  return { valid: true };\r\n}\r\n\r\n/**\r\n * \u9A8C\u8BC1\u6296\u97F3\u5206\u4EAB\u53C2\u6570\r\n */\r\nexport function validateDouyinShare(data) {\r\n  const errors = [];\r\n  \r\n  if (!data.video_url || typeof data.video_url !== 'string') {\r\n    errors.push('\u89C6\u9891URL\u662F\u5FC5\u9700\u7684');\r\n  } else if (!isValidUrl(data.video_url)) {\r\n    errors.push('\u89C6\u9891URL\u683C\u5F0F\u65E0\u6548');\r\n  }\r\n  \r\n  if (data.caption && typeof data.caption !== 'string') {\r\n    errors.push('\u6807\u9898\u5FC5\u987B\u662F\u5B57\u7B26\u4E32');\r\n  } else if (data.caption && data.caption.length > 500) {\r\n    errors.push('\u6807\u9898\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7500\u5B57\u7B26');\r\n  }\r\n  \r\n  if (data.hashtags && !Array.isArray(data.hashtags)) {\r\n    errors.push('\u6807\u7B7E\u5FC5\u987B\u662F\u6570\u7EC4');\r\n  } else if (data.hashtags && data.hashtags.length > 10) {\r\n    errors.push('\u6807\u7B7E\u6570\u91CF\u4E0D\u80FD\u8D85\u8FC710\u4E2A');\r\n  }\r\n  \r\n  return {\r\n    valid: errors.length === 0,\r\n    errors\r\n  };\r\n}\r\n\r\n/**\r\n * \u901A\u7528\u8F93\u5165\u9A8C\u8BC1\u51FD\u6570\r\n */\r\nexport function validateInput(data, rules) {\r\n  const errors = [];\r\n  \r\n  for (const [field, rule] of Object.entries(rules)) {\r\n    const value = data[field];\r\n    \r\n    // \u68C0\u67E5\u5FC5\u9700\u5B57\u6BB5\r\n    if (rule.required && (value === undefined || value === null || value === '')) {\r\n      errors.push(`${field}\u662F\u5FC5\u9700\u7684`);\r\n      continue;\r\n    }\r\n    \r\n    // \u8DF3\u8FC7\u975E\u5FC5\u9700\u4E14\u4E3A\u7A7A\u7684\u5B57\u6BB5\r\n    if (!rule.required && (value === undefined || value === null || value === '')) {\r\n      continue;\r\n    }\r\n    \r\n    // \u7C7B\u578B\u68C0\u67E5\r\n    if (rule.type && typeof value !== rule.type) {\r\n      errors.push(`${field}\u5FC5\u987B\u662F${rule.type}\u7C7B\u578B`);\r\n      continue;\r\n    }\r\n    \r\n    // \u5B57\u7B26\u4E32\u957F\u5EA6\u68C0\u67E5\r\n    if (rule.minLength && typeof value === 'string' && value.length < rule.minLength) {\r\n      errors.push(`${field}\u957F\u5EA6\u4E0D\u80FD\u5C11\u4E8E${rule.minLength}\u5B57\u7B26`);\r\n    }\r\n    \r\n    if (rule.maxLength && typeof value === 'string' && value.length > rule.maxLength) {\r\n      errors.push(`${field}\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7${rule.maxLength}\u5B57\u7B26`);\r\n    }\r\n    \r\n    // \u6570\u503C\u8303\u56F4\u68C0\u67E5\r\n    if (rule.min && typeof value === 'number' && value < rule.min) {\r\n      errors.push(`${field}\u4E0D\u80FD\u5C0F\u4E8E${rule.min}`);\r\n    }\r\n    \r\n    if (rule.max && typeof value === 'number' && value > rule.max) {\r\n      errors.push(`${field}\u4E0D\u80FD\u5927\u4E8E${rule.max}`);\r\n    }\r\n    \r\n    // \u6B63\u5219\u8868\u8FBE\u5F0F\u9A8C\u8BC1\r\n    if (rule.pattern && typeof value === 'string' && !rule.pattern.test(value)) {\r\n      errors.push(`${field}\u683C\u5F0F\u65E0\u6548`);\r\n    }\r\n    \r\n    // \u81EA\u5B9A\u4E49\u9A8C\u8BC1\u51FD\u6570\r\n    if (rule.validator && typeof rule.validator === 'function') {\r\n      const result = rule.validator(value);\r\n      if (result !== true) {\r\n        errors.push(typeof result === 'string' ? result : `${field}\u9A8C\u8BC1\u5931\u8D25`);\r\n      }\r\n    }\r\n  }\r\n  \r\n  return {\r\n    valid: errors.length === 0,\r\n    errors\r\n  };\r\n}\r\n\r\n/**\r\n * \u9A8C\u8BC1URL\u683C\u5F0F\r\n */\r\nfunction isValidUrl(string) {\r\n  try {\r\n    new URL(string);\r\n    return true;\r\n  } catch (_) {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * \u6E05\u7406\u548C\u9A8C\u8BC1\u8BF7\u6C42\u53C2\u6570\r\n */\r\nexport function sanitizeParams(params) {\r\n  const cleaned = {};\r\n  \r\n  for (const [key, value] of Object.entries(params)) {\r\n    if (value === null || value === undefined || value === '') {\r\n      continue;\r\n    }\r\n    \r\n    if (typeof value === 'string') {\r\n      // \u79FB\u9664\u5371\u9669\u5B57\u7B26\u548C\u8FC7\u957F\u5185\u5BB9\r\n      cleaned[key] = value.trim().substring(0, 1000);\r\n    } else if (typeof value === 'number') {\r\n      cleaned[key] = value;\r\n    } else if (Array.isArray(value)) {\r\n      cleaned[key] = value.slice(0, 20); // \u9650\u5236\u6570\u7EC4\u957F\u5EA6\r\n    }\r\n  }\r\n  \r\n  return cleaned;\r\n} ", "/**\n * NFC\u8DEF\u7531\u5904\u7406 - Cloudflare Workers\u7248\u672C\n */\n\nimport { KuaiziService } from '../services/kuaiziService.js';\nimport { createResponse, createSuccessResponse, createErrorResponse } from '../utils/response.js';\nimport { validateInput } from '../utils/validation.js';\n\nexport async function handleNfcRoutes(request, env) {\n  const url = new URL(request.url);\n  const path = url.pathname;\n  const method = request.method;\n\n  const kuaiziService = new KuaiziService(env);\n  \n  try {\n    // GET /api/nfc/redirect - NFC\u8DF3\u8F6C\u5904\u7406\n    if (path === '/api/nfc/redirect' && method === 'GET') {\n      return await handleNfcRedirect(request, env, kuaiziService);\n    }\n    \n    // GET /api/nfc/videos - \u83B7\u53D6\u89C6\u9891\u5217\u8868\n    if (path === '/api/nfc/videos' && method === 'GET') {\n      return await handleGetVideos(request, env, kuaiziService);\n    }\n    \n    // GET /api/nfc/account - \u83B7\u53D6\u8D26\u6237\u4FE1\u606F\n    if (path === '/api/nfc/account' && method === 'GET') {\n      return await handleGetAccount(request, env, kuaiziService);\n    }\n    \n    // POST /api/nfc/trigger - \u624B\u52A8\u89E6\u53D1\n    if (path === '/api/nfc/trigger' && method === 'POST') {\n      return await handleManualTrigger(request, env, kuaiziService);\n    }\n    \n    return createErrorResponse(404, 'NFC\u63A5\u53E3\u4E0D\u5B58\u5728');\n    \n  } catch (error) {\n    console.error('NFC\u8DEF\u7531\u5904\u7406\u9519\u8BEF:', error);\n    return createErrorResponse(500, 'NFC\u670D\u52A1\u5904\u7406\u5931\u8D25', error.message);\n  }\n}\n\n/**\n * NFC\u8DF3\u8F6C\u4E3B\u5904\u7406\u51FD\u6570\n */\nasync function handleNfcRedirect(request, env, kuaiziService) {\n  try {\n    const url = new URL(request.url);\n    const store_id = url.searchParams.get('store_id');\n    const category = url.searchParams.get('category') || 'general';\n    \n    console.log('\uD83D\uDD0D NFC\u8DF3\u8F6C\u8BF7\u6C42:', { store_id, category });\n    \n    if (!store_id) {\n      return Response.redirect('/error?msg=' + encodeURIComponent('\u7F3A\u5C11\u5546\u5E97ID\u53C2\u6570'), 302);\n    }\n    \n    // \u83B7\u53D6\u7528\u6237\u8BBE\u5907\u4FE1\u606F\n    const userAgent = request.headers.get('User-Agent') || '';\n    const isIOS = /iPhone|iPad|iPod/i.test(userAgent);\n    const isAndroid = /Android/i.test(userAgent);\n    const isMobile = isIOS || isAndroid;\n    \n    // \u79FB\u52A8\u7AEF\u8BBE\u5907\u68C0\u6D4B\n    if (!isMobile) {\n      return Response.redirect('/mobile-required', 302);\n    }\n    \n    // \u83B7\u53D6Kuaizi API\u4E2D\u7684\u89C6\u9891\n    const videoData = await kuaiziService.getUnusedVideo({\n      store_id,\n      category\n    });\n    \n    if (!videoData) {\n      console.error('\u274C \u6CA1\u6709\u53EF\u7528\u7684\u89C6\u9891\u7D20\u6750');\n      return Response.redirect('/no-video-available', 302);\n    }\n    \n    // \u6807\u8BB0\u89C6\u9891\u4E3A\u5DF2\u4F7F\u7528\n    await kuaiziService.markVideoAsUsed(videoData.id);\n    \n    // \u751F\u6210\u6296\u97F3\u8DF3\u8F6C\u94FE\u63A5\n    const douyinUrl = generateDouyinUrl(videoData, isIOS, env);\n    \n    console.log('\u2705 \u751F\u6210\u6296\u97F3\u8DF3\u8F6C\u94FE\u63A5:', douyinUrl);\n    \n    // \u91CD\u5B9A\u5411\u5230\u6296\u97F3\u5E94\u7528\n    return Response.redirect(douyinUrl, 302);\n    \n  } catch (error) {\n    console.error('\u274C NFC\u8DF3\u8F6C\u5904\u7406\u5931\u8D25:', error);\n    \n    let errorMsg = '\u83B7\u53D6\u89C6\u9891\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5';\n    if (error.message.includes('\u4F59\u989D\u4E0D\u8DB3')) {\n      errorMsg = '\u8D26\u6237\u4F59\u989D\u4E0D\u8DB3\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458';\n    } else if (error.message.includes('\u7B7E\u540D\u9A8C\u8BC1\u5931\u8D25')) {\n      errorMsg = 'API\u914D\u7F6E\u9519\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u6280\u672F\u652F\u6301';\n    }\n    \n    return Response.redirect('/error?msg=' + encodeURIComponent(errorMsg), 302);\n  }\n}\n\n/**\n * \u83B7\u53D6\u53EF\u7528\u89C6\u9891\u5217\u8868\n */\nasync function handleGetVideos(request, env, kuaiziService) {\n  try {\n    const url = new URL(request.url);\n    const page = parseInt(url.searchParams.get('page')) || 1;\n    const limit = parseInt(url.searchParams.get('limit')) || 10;\n    const category = url.searchParams.get('category');\n    \n    const materialData = await kuaiziService.getMaterialList({\n      type: 'video',\n      page,\n      size: limit,\n      category: category || ''\n    });\n    \n    return createSuccessResponse({\n      list: materialData.list || [],\n      total: materialData.total || 0,\n      page,\n      limit\n    });\n    \n  } catch (error) {\n    console.error('\u83B7\u53D6\u89C6\u9891\u5217\u8868\u5931\u8D25:', error);\n    return createErrorResponse(500, error.message || '\u83B7\u53D6\u89C6\u9891\u5217\u8868\u5931\u8D25');\n  }\n}\n\n/**\n * \u83B7\u53D6\u8D26\u6237\u4FE1\u606F\n */\nasync function handleGetAccount(request, env, kuaiziService) {\n  try {\n    const materialData = await kuaiziService.getMaterialList({\n      type: 'video',\n      page: 1,\n      size: 1\n    });\n    \n    return createSuccessResponse({\n      total_materials: materialData.total,\n      status: 'active',\n      timestamp: new Date().toISOString()\n    });\n    \n  } catch (error) {\n    console.error('\u83B7\u53D6\u8D26\u6237\u4FE1\u606F\u5931\u8D25:', error);\n    return createErrorResponse(500, error.message || '\u83B7\u53D6\u8D26\u6237\u4FE1\u606F\u5931\u8D25');\n  }\n}\n\n/**\n * \u624B\u52A8\u89E6\u53D1\u89C6\u9891\u83B7\u53D6\n */\nasync function handleManualTrigger(request, env, kuaiziService) {\n  try {\n    const body = await request.json();\n    const { store_id, category } = body;\n    \n    const validation = validateInput(body, {\n      store_id: { required: true, type: 'string' },\n      category: { required: false, type: 'string' }\n    });\n    \n    if (!validation.valid) {\n      return createErrorResponse(400, '\u53C2\u6570\u9A8C\u8BC1\u5931\u8D25', validation.errors);\n    }\n    \n    const videoData = await kuaiziService.getUnusedVideo({\n      store_id,\n      category: category || 'general'\n    });\n    \n    if (!videoData) {\n      return createErrorResponse(404, '\u6682\u65E0\u53EF\u7528\u89C6\u9891');\n    }\n    \n    return createSuccessResponse({\n      video: videoData,\n      douyin_url_ios: generateDouyinUrl(videoData, true, env),\n      douyin_url_android: generateDouyinUrl(videoData, false, env)\n    });\n    \n  } catch (error) {\n    console.error('\u624B\u52A8\u89E6\u53D1\u5931\u8D25:', error);\n    return createErrorResponse(500, error.message || '\u624B\u52A8\u89E6\u53D1\u5931\u8D25');\n  }\n}\n\n/**\n * \u751F\u6210\u6296\u97F3\u8DF3\u8F6CURL\n */\nfunction generateDouyinUrl(videoData, isIOS, env) {\n  const baseUrl = 'snssdk1128://platformapi/startapp';\n  \n  const params = new URLSearchParams({\n    appKey: env.DOUYIN_APP_ID || 'default_app_id',\n    videoPath: videoData.video_url,\n    caption: videoData.caption || '',\n    hashtags: videoData.hashtags ? videoData.hashtags.join(',') : '',\n    callback: `${env.DOMAIN || ''}/api/douyin/callback`\n  });\n  \n  return `${baseUrl}?${params.toString()}`;\n} ", "/**\r\n * \u5FEB\u5B50API\u8DEF\u7531\u5904\u7406 - Cloudflare Workers\u7248\u672C\r\n */\r\n\r\nimport { KuaiziService } from '../services/kuaiziService.js';\r\nimport { createResponse, createSuccessResponse, createErrorResponse } from '../utils/response.js';\r\nimport { validatePagination, validateCategory } from '../utils/validation.js';\r\n\r\nexport async function handleKuaiziRoutes(request, env) {\r\n  const url = new URL(request.url);\r\n  const path = url.pathname;\r\n  const method = request.method;\r\n\r\n  const kuaiziService = new KuaiziService(env);\r\n  \r\n  try {\r\n    // GET /api/kuaizi/videos - \u83B7\u53D6\u89C6\u9891\u5217\u8868\r\n    if (path === '/api/kuaizi/videos' && method === 'GET') {\r\n      return await handleGetVideos(request, env, kuaiziService);\r\n    }\r\n    \r\n    // GET /api/kuaizi/test - API\u8FDE\u63A5\u6D4B\u8BD5\r\n    if (path === '/api/kuaizi/test' && method === 'GET') {\r\n      return await handleApiTest(request, env, kuaiziService);\r\n    }\r\n    \r\n    // GET /api/kuaizi/account - \u83B7\u53D6\u8D26\u6237\u4FE1\u606F\r\n    if (path === '/api/kuaizi/account' && method === 'GET') {\r\n      return await handleGetAccount(request, env, kuaiziService);\r\n    }\r\n    \r\n    return createErrorResponse(404, '\u5FEB\u5B50API\u63A5\u53E3\u4E0D\u5B58\u5728');\r\n    \r\n  } catch (error) {\r\n    console.error('\u5FEB\u5B50API\u8DEF\u7531\u5904\u7406\u9519\u8BEF:', error);\r\n    return createErrorResponse(500, '\u5FEB\u5B50API\u670D\u52A1\u5904\u7406\u5931\u8D25', error.message);\r\n  }\r\n}\r\n\r\n/**\r\n * \u83B7\u53D6\u89C6\u9891\u5217\u8868\r\n */\r\nasync function handleGetVideos(request, env, kuaiziService) {\r\n  try {\r\n    const url = new URL(request.url);\r\n    const page = url.searchParams.get('page') || '1';\r\n    const size = url.searchParams.get('size') || '10';\r\n    const category = url.searchParams.get('category');\r\n    \r\n    // \u9A8C\u8BC1\u5206\u9875\u53C2\u6570\r\n    const pageValidation = validatePagination(page, size);\r\n    if (!pageValidation.valid) {\r\n      return createErrorResponse(400, pageValidation.error);\r\n    }\r\n    \r\n    // \u9A8C\u8BC1\u7C7B\u522B\u53C2\u6570\r\n    const categoryValidation = validateCategory(category);\r\n    if (!categoryValidation.valid) {\r\n      return createErrorResponse(400, categoryValidation.error);\r\n    }\r\n    \r\n    const videos = await kuaiziService.getMaterialList({\r\n      type: 'video',\r\n      page: pageValidation.page,\r\n      size: pageValidation.size,\r\n      category\r\n    });\r\n\r\n    return createSuccessResponse(videos);\r\n\r\n  } catch (error) {\r\n    console.error('\u83B7\u53D6\u89C6\u9891\u5217\u8868\u5931\u8D25:', error);\r\n    return createErrorResponse(500, '\u83B7\u53D6\u89C6\u9891\u5217\u8868\u5931\u8D25', error.message);\r\n  }\r\n}\r\n\r\n/**\r\n * API\u8FDE\u63A5\u6D4B\u8BD5\r\n */\r\nasync function handleApiTest(request, env, kuaiziService) {\r\n  try {\r\n    // \u901A\u8FC7\u83B7\u53D6\u5C11\u91CF\u6570\u636E\u6765\u6D4B\u8BD5\u8FDE\u63A5\r\n    const testData = await kuaiziService.getMaterialList({\r\n      type: 'video',\r\n      page: 1,\r\n      size: 1\r\n    });\r\n    \r\n    return createSuccessResponse({\r\n      connected: true,\r\n      total_videos: testData.total,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('API\u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25:', error);\r\n    return createErrorResponse(500, 'API\u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25', error.message);\r\n  }\r\n}\r\n\r\n/**\r\n * \u83B7\u53D6\u8D26\u6237\u4FE1\u606F\r\n */\r\nasync function handleGetAccount(request, env, kuaiziService) {\r\n  try {\r\n    const accountInfo = await kuaiziService.getAccountInfo();\r\n    return createSuccessResponse(accountInfo);\r\n    \r\n  } catch (error) {\r\n    console.error('\u83B7\u53D6\u8D26\u6237\u4FE1\u606F\u5931\u8D25:', error);\r\n    return createErrorResponse(500, '\u83B7\u53D6\u8D26\u6237\u4FE1\u606F\u5931\u8D25', error.message);\r\n  }\r\n} ", "/**\r\n * \u6296\u97F3API\u8DEF\u7531\u5904\u7406 - Cloudflare Workers\u7248\u672C\r\n */\r\n\r\nimport { createSuccessResponse, createErrorResponse } from '../utils/response.js';\r\n\r\nexport async function handleDouyinRoutes(request, env) {\r\n  const url = new URL(request.url);\r\n  const path = url.pathname;\r\n  const method = request.method;\r\n  \r\n  try {\r\n    // GET /api/douyin/callback - \u6296\u97F3\u5206\u4EAB\u56DE\u8C03\r\n    if (path === '/api/douyin/callback' && method === 'GET') {\r\n      return await handleDouyinCallback(request, env);\r\n    }\r\n    \r\n    // POST /api/douyin/share - \u5206\u4EAB\u89C6\u9891\u5230\u6296\u97F3\r\n    if (path === '/api/douyin/share' && method === 'POST') {\r\n      return await handleShareToDouyin(request, env);\r\n    }\r\n    \r\n    return createErrorResponse(404, '\u6296\u97F3\u63A5\u53E3\u4E0D\u5B58\u5728');\r\n    \r\n  } catch (error) {\r\n    console.error('\u6296\u97F3\u8DEF\u7531\u5904\u7406\u9519\u8BEF:', error);\r\n    return createErrorResponse(500, '\u6296\u97F3\u670D\u52A1\u5904\u7406\u5931\u8D25', error.message);\r\n  }\r\n}\r\n\r\nasync function handleDouyinCallback(request, env) {\r\n  try {\r\n    const url = new URL(request.url);\r\n    const code = url.searchParams.get('code');\r\n    const state = url.searchParams.get('state');\r\n    const error = url.searchParams.get('error');\r\n    \r\n    if (error) {\r\n      console.error('\u6296\u97F3\u56DE\u8C03\u9519\u8BEF:', error);\r\n      return Response.redirect('/share-failed?error=' + encodeURIComponent(error), 302);\r\n    }\r\n    \r\n    if (code) {\r\n      console.log('\u6296\u97F3\u5206\u4EAB\u6210\u529F\u56DE\u8C03:', { code, state });\r\n      return Response.redirect('/share-success', 302);\r\n    }\r\n    \r\n    return Response.redirect('/share-failed', 302);\r\n    \r\n  } catch (error) {\r\n    console.error('\u5904\u7406\u6296\u97F3\u56DE\u8C03\u5931\u8D25:', error);\r\n    return Response.redirect('/share-failed', 302);\r\n  }\r\n}\r\n\r\nasync function handleShareToDouyin(request, env) {\r\n  try {\r\n    const body = await request.json();\r\n    const { video_url, caption, hashtags } = body;\r\n    \r\n    if (!video_url) {\r\n      return createErrorResponse(400, '\u89C6\u9891URL\u4E0D\u80FD\u4E3A\u7A7A');\r\n    }\r\n    \r\n    // \u751F\u6210\u6296\u97F3\u5206\u4EAB\u94FE\u63A5\r\n    const shareUrl = generateDouyinShareUrl({\r\n      video_url,\r\n      caption: caption || '',\r\n      hashtags: hashtags || []\r\n    }, env);\r\n    \r\n    return createSuccessResponse({\r\n      share_url: shareUrl,\r\n      message: '\u5206\u4EAB\u94FE\u63A5\u751F\u6210\u6210\u529F'\r\n    });\r\n    \r\n  } catch (error) {\r\n    console.error('\u751F\u6210\u6296\u97F3\u5206\u4EAB\u94FE\u63A5\u5931\u8D25:', error);\r\n    return createErrorResponse(500, error.message || '\u751F\u6210\u5206\u4EAB\u94FE\u63A5\u5931\u8D25');\r\n  }\r\n}\r\n\r\nfunction generateDouyinShareUrl(videoData, env) {\r\n  const baseUrl = 'snssdk1128://platformapi/startapp';\r\n  \r\n  const params = new URLSearchParams({\r\n    appKey: env.DOUYIN_APP_ID || 'default_app_id',\r\n    videoPath: videoData.video_url,\r\n    caption: videoData.caption || '',\r\n    hashtags: Array.isArray(videoData.hashtags) ? videoData.hashtags.join(',') : '',\r\n    callback: `${env.DOMAIN || ''}/api/douyin/callback`\r\n  });\r\n  \r\n  return `${baseUrl}?${params.toString()}`;\r\n} ", "/**\r\n * Cloudflare Workers\u8DEF\u7531\u7CFB\u7EDF\r\n */\r\n\r\nimport { handleNfcRoutes } from './nfc.js';\r\nimport { handleKuaiziRoutes } from './kuaizi.js';\r\nimport { handleDouyinRoutes } from './douyin.js';\r\nimport { createResponse } from '../utils/response.js';\r\n\r\nexport function createRouter(env) {\r\n  return {\r\n    async handle(request) {\r\n      const url = new URL(request.url);\r\n      const path = url.pathname;\r\n      \r\n      try {\r\n        // NFC\u76F8\u5173\u8DEF\u7531\r\n        if (path.startsWith('/api/nfc/')) {\r\n          return await handleNfcRoutes(request, env);\r\n        }\r\n        \r\n        // \u5FEB\u5B50API\u8DEF\u7531\r\n        if (path.startsWith('/api/kuaizi/')) {\r\n          return await handleKuaiziRoutes(request, env);\r\n        }\r\n        \r\n        // \u6296\u97F3API\u8DEF\u7531\r\n        if (path.startsWith('/api/douyin/')) {\r\n          return await handleDouyinRoutes(request, env);\r\n        }\r\n        \r\n        // \u672A\u5339\u914D\u7684API\u8DEF\u7531\r\n        return createResponse(404, '\u63A5\u53E3\u4E0D\u5B58\u5728', null);\r\n        \r\n      } catch (error) {\r\n        console.error('\u8DEF\u7531\u5904\u7406\u9519\u8BEF:', error);\r\n        return createResponse(500, '\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF', null, error.message);\r\n      }\r\n    }\r\n  };\r\n} ", "/**\r\n * CORS\u5904\u7406\u4E2D\u95F4\u4EF6 - Cloudflare Workers\u7248\u672C\r\n */\r\n\r\nconst CORS_HEADERS = {\r\n  'Access-Control-Allow-Origin': '*',\r\n  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With',\r\n  'Access-Control-Max-Age': '86400',\r\n};\r\n\r\nexport function handleCors(request, response = null) {\r\n  // \u5904\u7406\u9884\u68C0\u8BF7\u6C42\r\n  if (request.method === 'OPTIONS') {\r\n    return new Response(null, {\r\n      status: 204,\r\n      headers: CORS_HEADERS\r\n    });\r\n  }\r\n  \r\n  // \u4E3A\u73B0\u6709\u54CD\u5E94\u6DFB\u52A0CORS\u5934\r\n  if (response) {\r\n    const newHeaders = new Headers(response.headers);\r\n    Object.entries(CORS_HEADERS).forEach(([key, value]) => {\r\n      newHeaders.set(key, value);\r\n    });\r\n    \r\n    return new Response(response.body, {\r\n      status: response.status,\r\n      statusText: response.statusText,\r\n      headers: newHeaders\r\n    });\r\n  }\r\n  \r\n  // \u8FD4\u56DE\u9ED8\u8BA4CORS\u54CD\u5E94\r\n  return new Response(null, {\r\n    status: 200,\r\n    headers: CORS_HEADERS\r\n  });\r\n} ", "/**\r\n * \u901F\u7387\u9650\u5236\u4E2D\u95F4\u4EF6 - Cloudflare Workers\u7248\u672C\r\n * \u4F7F\u7528Cloudflare\u7684\u8FB9\u7F18\u7F13\u5B58\u8FDB\u884C\u901F\u7387\u9650\u5236\r\n */\r\n\r\nimport { createResponse } from '../utils/response.js';\r\n\r\nconst RATE_LIMIT_CONFIG = {\r\n  windowMs: 15 * 60 * 1000, // 15\u5206\u949F\u7A97\u53E3\r\n  maxRequests: 100, // \u6700\u5927\u8BF7\u6C42\u6570\r\n  keyPrefix: 'rate_limit:'\r\n};\r\n\r\nexport async function handleRateLimit(request, env) {\r\n  try {\r\n    const clientIP = request.headers.get('CF-Connecting-IP') || \r\n                    request.headers.get('X-Forwarded-For') || \r\n                    'unknown';\r\n    \r\n    const key = `${RATE_LIMIT_CONFIG.keyPrefix}${clientIP}`;\r\n    const now = Date.now();\r\n    const windowStart = now - RATE_LIMIT_CONFIG.windowMs;\r\n    \r\n    // \u5C1D\u8BD5\u4ECEKV\u83B7\u53D6\u5F53\u524D\u8BA1\u6570\r\n    let rateLimitData;\r\n    try {\r\n      const stored = await env.VIDEO_CACHE?.get(key);\r\n      rateLimitData = stored ? JSON.parse(stored) : { count: 0, resetTime: now + RATE_LIMIT_CONFIG.windowMs };\r\n    } catch (e) {\r\n      // KV\u4E0D\u53EF\u7528\u65F6\uFF0C\u5141\u8BB8\u8BF7\u6C42\u901A\u8FC7\r\n      console.warn('KV\u5B58\u50A8\u4E0D\u53EF\u7528\uFF0C\u8DF3\u8FC7\u901F\u7387\u9650\u5236:', e);\r\n      return null;\r\n    }\r\n    \r\n    // \u68C0\u67E5\u662F\u5426\u9700\u8981\u91CD\u7F6E\u7A97\u53E3\r\n    if (now > rateLimitData.resetTime) {\r\n      rateLimitData = { count: 0, resetTime: now + RATE_LIMIT_CONFIG.windowMs };\r\n    }\r\n    \r\n    // \u68C0\u67E5\u662F\u5426\u8D85\u8FC7\u9650\u5236\r\n    if (rateLimitData.count >= RATE_LIMIT_CONFIG.maxRequests) {\r\n      return createResponse(429, '\u8BF7\u6C42\u8FC7\u4E8E\u9891\u7E41\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5', {\r\n        retryAfter: Math.ceil((rateLimitData.resetTime - now) / 1000)\r\n      });\r\n    }\r\n    \r\n    // \u589E\u52A0\u8BA1\u6570\u5E76\u66F4\u65B0\u5B58\u50A8\r\n    rateLimitData.count++;\r\n    try {\r\n      await env.VIDEO_CACHE?.put(key, JSON.stringify(rateLimitData), {\r\n        expirationTtl: Math.ceil(RATE_LIMIT_CONFIG.windowMs / 1000)\r\n      });\r\n    } catch (e) {\r\n      console.warn('\u66F4\u65B0\u901F\u7387\u9650\u5236\u6570\u636E\u5931\u8D25:', e);\r\n    }\r\n    \r\n    return null; // \u5141\u8BB8\u8BF7\u6C42\u7EE7\u7EED\r\n    \r\n  } catch (error) {\r\n    console.error('\u901F\u7387\u9650\u5236\u5904\u7406\u9519\u8BEF:', error);\r\n    return null; // \u51FA\u9519\u65F6\u5141\u8BB8\u8BF7\u6C42\u901A\u8FC7\r\n  }\r\n} ", "/**\n * NFC\u6296\u97F3\u89C6\u9891\u8425\u9500\u5DE5\u5177 - Cloudflare Workers\u7248\u672C\n * \u652F\u6301\u9759\u6001\u8D44\u6E90 + API\u540E\u7AEF\u7684\u6DF7\u5408\u90E8\u7F72\n */\n\nimport { createRouter } from './routes/router.js';\nimport { handleCors } from './middleware/cors.js';\nimport { handleRateLimit } from './middleware/rateLimit.js';\nimport { createResponse } from './utils/response.js';\n\nexport default {\n  async fetch(request, env, ctx) {\n    try {\n      const url = new URL(request.url);\n      const path = url.pathname;\n      \n      // \u5904\u7406CORS\u9884\u68C0\u8BF7\u6C42\n      if (request.method === 'OPTIONS') {\n        return handleCors(request);\n      }\n      \n      // API\u8DEF\u7531\u5904\u7406\n      if (path.startsWith('/api/')) {\n        // \u5E94\u7528\u901F\u7387\u9650\u5236\n        const rateLimitResponse = await handleRateLimit(request, env);\n        if (rateLimitResponse) {\n          return rateLimitResponse;\n        }\n        \n        // \u521B\u5EFA\u8DEF\u7531\u5668\u5E76\u5904\u7406\u8BF7\u6C42\n        const router = createRouter(env);\n        const response = await router.handle(request);\n        \n        // \u6DFB\u52A0CORS\u5934\n        return handleCors(request, response);\n      }\n      \n      // \u5065\u5EB7\u68C0\u67E5\n      if (path === '/health') {\n        return createResponse(200, 'success', {\n          status: 'healthy',\n          timestamp: new Date().toISOString(),\n          version: '1.0.0',\n          worker: true\n        });\n      }\n      \n      // \u524D\u7AEF\u8DEF\u7531\u91CD\u5B9A\u5411\u5904\u7406\n      if (path === '/nfc-redirect') {\n        const queryParams = url.search;\n        return Response.redirect(`/api/nfc/redirect${queryParams}`, 302);\n      }\n      \n      // API\u6839\u8DEF\u5F84\u4FE1\u606F\n      if (path === '/api' || path === '/api/') {\n        return createResponse(200, 'success', {\n          message: 'NFC\u6296\u97F3\u89C6\u9891API\u670D\u52A1 - Cloudflare Workers\u7248',\n          version: '1.0.0',\n          endpoints: [\n            'GET /api/nfc/redirect - NFC\u8DF3\u8F6C\u5904\u7406',\n            'GET /api/nfc/videos - \u83B7\u53D6\u89C6\u9891\u5217\u8868', \n            'POST /api/nfc/trigger - \u624B\u52A8\u89E6\u53D1',\n            'GET /health - \u5065\u5EB7\u68C0\u67E5'\n          ]\n        });\n      }\n      \n      // \u9759\u6001\u8D44\u6E90\u548CSPA\u8DEF\u7531\u7531Assets\u5904\u7406\n      // \u5982\u679C\u5230\u8FBE\u8FD9\u91CC\u8BF4\u660E\u4E0D\u662FAPI\u8BF7\u6C42\uFF0C\u8BA9Assets\u5904\u7406\n      return env.ASSETS.fetch(request);\n      \n    } catch (error) {\n      console.error('Workers\u5904\u7406\u9519\u8BEF:', error);\n      return createResponse(500, '\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF', null, error.message);\n    }\n  }\n}; "],
  "mappings": "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A;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,IAAI;AACJ,IAAM,WAAW;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAD;AAAA,EACA;AAAA,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",
  "names": ["PerformanceMark", "clear", "count", "countReset", "createTask", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeLog", "timeStamp", "trace", "warn", "hrtime", "dir", "env", "count", "cwd", "hrtime", "assert", "env", "error", "error", "env", "error", "env", "handleGetVideos", "handleGetAccount", "error", "env", "error", "env", "error", "env", "error", "env", "error"]
}
