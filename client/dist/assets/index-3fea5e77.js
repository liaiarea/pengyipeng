import{J as I,r as m,K as w,L as c,M as f,N as o,k as _,O as y,P as p,F as D,Q as L,R as u,B as b,S as M,f as T,U as R,V as O,W as U,D as z,X as W}from"./vendor-0571578d.js";import{T as l,s as H}from"./ui-dfe0eb9d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const A=(a,e)=>{const n=a.__vccOpts||a;for(const[t,s]of e)n[t]=s;return n},j={name:"Home",setup(){const a=I(),e=m(!1),n=m(!1),t=m(!1),s=m(null),r=m(null);return{nfcLoading:e,apiLoading:n,videoLoading:t,apiStatus:s,currentVideo:r,steps:[{title:"测试API连接",description:"点击「测试视频API」确认快子API正常工作"},{title:"获取随机视频",description:"点击「获取随机视频」从26000+视频库中随机选择"},{title:"分享到抖音",description:"点击「发布到抖音」直接跳转抖音发布页面"},{title:"NFC标签配置",description:"将网址写入NFC标签，实现一碰即发功能"}],simulateNFC:async()=>{try{e.value=!0,l.loading({message:"模拟NFC触发中...",forbidClick:!0,duration:0}),await new Promise(d=>setTimeout(d,1e3)),l.clear(),l.success("NFC触发成功！"),a.push({path:"/nfc-redirect",query:{store_id:"demo_store",category:"entertainment"}})}catch(d){l.clear(),l.fail("NFC模拟失败"),console.error("NFC模拟失败:",d)}finally{e.value=!1}},testKuaiziAPI:async()=>{var d;try{n.value=!0,l.loading({message:"测试API连接中...",forbidClick:!0,duration:0});const v=await(await fetch("/api/kuaizi/test",{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(l.clear(),v.code===200)s.value=v.data,l.success({message:`API连接成功！共${(d=v.data.total_videos)==null?void 0:d.toLocaleString()}个视频`,duration:3e3});else throw new Error(v.message||"API测试失败")}catch(C){l.clear(),l.fail(`API测试失败: ${C.message}`),console.error("API测试失败:",C)}finally{n.value=!1}},getRandomVideo:async()=>{try{t.value=!0,l.loading({message:"获取随机视频中...",forbidClick:!0,duration:0});const C=await(await fetch("/api/kuaizi/random-video",{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(l.clear(),C.code===200)r.value=C.data.video,l.success("获取随机视频成功！");else throw new Error(C.message||"获取视频失败")}catch(d){l.clear(),l.fail(`获取视频失败: ${d.message}`),console.error("获取视频失败:",d)}finally{t.value=!1}},shareToDouyin:()=>{if(!r.value){l.fail("请先获取视频");return}try{const d=navigator.userAgent,C=/iPhone|iPad|iPod/i.test(d),v=/Android/i.test(d);if(!C&&!v){l.fail("请在手机上打开此页面");return}const k=encodeURIComponent(r.value.video_url),V=encodeURIComponent(r.value.caption||"精彩视频内容"),x=`snssdk1128://openRecordPage?recordOrigin=system&recordParam={"video_url":"${k}","caption":"${V}"}`;console.log("🔗 抖音分享链接:",x),window.location.href=x,l.success("正在跳转抖音...")}catch(d){l.fail("分享失败，请重试"),console.error("分享失败:",d)}},formatDuration:d=>{if(!d)return"0:00";const C=Math.floor(d/60),v=Math.floor(d%60);return`${C}:${v.toString().padStart(2,"0")}`}}}},K={class:"home"},B={class:"features"},G={class:"feature-card"},J={class:"feature-card"},Q={class:"feature-card"},X={class:"feature-card"},Y={key:0,class:"api-status"},Z={key:1,class:"current-video"},ee={class:"video-info"},te=["src","alt"],oe={class:"video-details"},se={class:"video-title"},ne={class:"video-stats"},ae={key:0,class:"hashtags"},ie={class:"instructions"},re={class:"step-number"},le={class:"step-content"};function de(a,e,n,t,s,r){var N;const i=w("van-button"),g=w("van-cell"),S=w("van-cell-group");return u(),c("div",K,[f(" 头部标题 "),e[15]||(e[15]=o("div",{class:"header"},[o("h1",null,"碰一碰发抖音"),o("p",null,"NFC一碰即发，视频营销神器")],-1)),f(" 功能卡片 "),o("div",B,[f(" NFC功能模拟 "),o("div",G,[e[0]||(e[0]=o("div",{class:"feature-icon"},"📱",-1)),e[1]||(e[1]=o("h3",null,"NFC触发",-1)),e[2]||(e[2]=o("p",null,"模拟NFC标签触发",-1)),_(i,{type:"primary",block:"",onClick:t.simulateNFC,loading:t.nfcLoading},{default:y(()=>[b(p(t.nfcLoading?"跳转中...":"模拟NFC触发"),1)]),_:1},8,["onClick","loading"])]),f(" 快子API测试 "),o("div",J,[e[3]||(e[3]=o("div",{class:"feature-icon"},"🎬",-1)),e[4]||(e[4]=o("h3",null,"视频测试",-1)),e[5]||(e[5]=o("p",null,"测试快子API连接",-1)),_(i,{type:"success",block:"",onClick:t.testKuaiziAPI,loading:t.apiLoading},{default:y(()=>[b(p(t.apiLoading?"测试中...":"测试视频API"),1)]),_:1},8,["onClick","loading"])]),f(" 随机视频 "),o("div",Q,[e[6]||(e[6]=o("div",{class:"feature-icon"},"🎲",-1)),e[7]||(e[7]=o("h3",null,"随机视频",-1)),e[8]||(e[8]=o("p",null,"获取随机视频内容",-1)),_(i,{type:"primary",block:"",onClick:t.getRandomVideo,loading:t.videoLoading},{default:y(()=>[b(p(t.videoLoading?"获取中...":"获取随机视频"),1)]),_:1},8,["onClick","loading"])]),f(" 分享到抖音 "),o("div",X,[e[10]||(e[10]=o("div",{class:"feature-icon"},"🎵",-1)),e[11]||(e[11]=o("h3",null,"抖音分享",-1)),e[12]||(e[12]=o("p",null,"直接跳转抖音发布",-1)),_(i,{type:"warning",block:"",onClick:t.shareToDouyin,disabled:!t.currentVideo},{default:y(()=>e[9]||(e[9]=[b(" 发布到抖音 ")])),_:1,__:[9]},8,["onClick","disabled"])])]),f(" API状态显示 "),t.apiStatus?(u(),c("div",Y,[_(S,null,{default:y(()=>{var h,P,d;return[_(g,{title:"API状态",value:t.apiStatus.status},null,8,["value"]),_(g,{title:"视频总数",value:((h=t.apiStatus.total_videos)==null?void 0:h.toLocaleString())||"0"},null,8,["value"]),_(g,{title:"APP-KEY",value:((P=t.apiStatus.config)==null?void 0:P.app_key)||"未配置"},null,8,["value"]),_(g,{title:"账户ID",value:((d=t.apiStatus.config)==null?void 0:d.account_id)||"未配置"},null,8,["value"])]}),_:1})])):f("v-if",!0),f(" 当前视频信息 "),t.currentVideo?(u(),c("div",Z,[e[13]||(e[13]=o("h3",null,"当前视频",-1)),o("div",ee,[o("img",{src:t.currentVideo.cover_url,alt:t.currentVideo.caption,class:"video-cover"},null,8,te),o("div",oe,[o("p",se,p(t.currentVideo.caption),1),o("p",ne,p(t.formatDuration(t.currentVideo.duration))+" | "+p(t.currentVideo.width)+"x"+p(t.currentVideo.height),1),(N=t.currentVideo.hashtags)!=null&&N.length?(u(),c("div",ae,[(u(!0),c(D,null,L(t.currentVideo.hashtags.slice(0,3),h=>(u(),c("span",{key:h,class:"hashtag"}," #"+p(h),1))),128))])):f("v-if",!0)])])])):f("v-if",!0),f(" 使用说明 "),o("div",ie,[e[14]||(e[14]=o("h3",null,"使用说明",-1)),(u(!0),c(D,null,L(t.steps,(h,P)=>(u(),c("div",{class:"step",key:P},[o("div",re,p(P+1),1),o("div",le,[o("h4",null,p(h.title),1),o("p",null,p(h.description),1)])]))),128))])])}const ce=A(j,[["render",de],["__scopeId","data-v-933e9cdf"],["__file","C:/web/pengyipeng/client/src/pages/Home.vue"]]);const ue={name:"NfcRedirect",setup(){const a=M(),e=m(!0),n=m(!1),t=m(null),s=m(null),r=a.query.store_id||"default",i=a.query.category||"general",g=async()=>{try{e.value=!0,s.value=null,console.log("🔍 获取随机视频参数:",{storeId:r,category:i});const k=await(await fetch("/api/kuaizi/random-video",{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(k.code===200)t.value=k.data.video,console.log("✅ 获取随机视频成功:",t.value),l.success({message:"视频加载成功！",duration:1500});else throw new Error(k.message||"获取视频失败")}catch(v){console.error("❌ 获取视频失败:",v),s.value=v.message||"网络错误，请检查您的网络连接",l.fail({message:"获取视频失败",duration:2e3})}finally{e.value=!1}},S=async()=>{if(t.value)try{n.value=!0,l.loading({message:"正在跳转抖音...",forbidClick:!0,duration:0});const v=navigator.userAgent,k=/iPhone|iPad|iPod/i.test(v),V=/Android/i.test(v);if(!k&&!V)throw new Error("请在手机上打开此页面");const x=encodeURIComponent(t.value.video_url),$=encodeURIComponent(t.value.caption||"精彩视频内容"),E=`snssdk1128://openRecordPage?recordOrigin=system&recordParam={"video_url":"${x}","caption":"${$}"}`;console.log("🔗 抖音分享链接:",E),window.location.href=E,setTimeout(()=>{l.clear(),l({message:"如果没有自动跳转，请手动打开抖音",duration:3e3}),n.value=!1},3e3)}catch(v){console.error("❌ 分享失败:",v),l.clear(),l.fail(v.message||"分享失败，请重试"),n.value=!1}},N=()=>{e.value||n.value||(t.value=null,g())},h=()=>{g()},P=v=>{if(!v)return"0:00";const k=Math.floor(v/60),V=Math.floor(v%60);return`${k}:${V.toString().padStart(2,"0")}`},d=()=>{console.log("🎬 视频开始加载")},C=()=>{console.log("✅ 视频可以播放")};return T(()=>{g()}),{loading:e,redirecting:n,videoData:t,error:s,shareToDouyin:S,refreshVideo:N,retry:h,formatDuration:P,onVideoLoadStart:d,onVideoCanPlay:C}}},ve={class:"nfc-redirect"},pe={key:0,class:"loading-container"},_e={class:"video-preview"},fe={class:"video-container"},ge=["src","poster"],me={class:"video-info"},ye={key:0,class:"hashtags"},be={class:"video-stats"},he={class:"duration"},Ce={class:"resolution"},ke={class:"action-buttons"},we={class:"error-container"};function Pe(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",ve,[f(" 加载状态 "),t.loading?(u(),c("div",pe,e[2]||(e[2]=[o("div",{class:"loading-spinner"},null,-1),o("h2",null,"正在获取视频...",-1),o("p",null,"请稍等，马上就好 🎬",-1)]))):t.videoData&&!t.redirecting?(u(),c(D,{key:1},[f(" 视频预览 "),o("div",_e,[o("div",fe,[o("video",{src:t.videoData.video_url,poster:t.videoData.cover_url,controls:"",playsinline:"","webkit-playsinline":"",onLoadstart:e[0]||(e[0]=(...g)=>t.onVideoLoadStart&&t.onVideoLoadStart(...g)),onCanplay:e[1]||(e[1]=(...g)=>t.onVideoCanPlay&&t.onVideoCanPlay(...g))},null,40,ge)]),o("div",me,[o("h3",null,p(t.videoData.caption||"精彩视频内容"),1),t.videoData.hashtags&&t.videoData.hashtags.length?(u(),c("div",ye,[(u(!0),c(D,null,L(t.videoData.hashtags,g=>(u(),c("span",{key:g,class:"hashtag"}," #"+p(g),1))),128))])):f("v-if",!0),o("div",be,[o("span",he,"⏱️ "+p(t.formatDuration(t.videoData.duration)),1),o("span",Ce,"📺 "+p(t.videoData.width)+"x"+p(t.videoData.height),1)])]),o("div",ke,[_(i,{type:"primary",size:"large",block:"",onClick:t.shareToDouyin,loading:t.redirecting},{default:y(()=>[b(p(t.redirecting?"正在跳转抖音...":"发布到抖音 🎵"),1)]),_:1},8,["onClick","loading"]),_(i,{type:"default",size:"large",block:"",onClick:t.refreshVideo,disabled:t.redirecting||t.loading,style:{"margin-top":"12px"}},{default:y(()=>e[3]||(e[3]=[b(" 换一个视频 🔄 ")])),_:1,__:[3]},8,["onClick","disabled"])])])],2112)):t.error?(u(),c(D,{key:2},[f(" 错误状态 "),o("div",we,[e[5]||(e[5]=o("div",{class:"error-icon"},"❌",-1)),e[6]||(e[6]=o("h2",null,"获取视频失败",-1)),o("p",null,p(t.error),1),_(i,{type:"primary",onClick:t.retry,style:{"margin-top":"20px"}},{default:y(()=>e[4]||(e[4]=[b(" 重试 ")])),_:1,__:[4]},8,["onClick"])])],2112)):f("v-if",!0)])}const Ae=A(ue,[["render",Pe],["__scopeId","data-v-ed8dcb0b"],["__file","C:/web/pengyipeng/client/src/pages/NfcRedirect.vue"]]);const Ne={name:"Error",setup(){const a=M(),e=I(),n=m(!1),t=m(!1),s=m(""),r=m(""),i=m(!1);return T(()=>{s.value=a.query.msg||"系统遇到了一些问题",r.value=a.query.details||"",i.value=!!r.value}),{retrying:n,detailsVisible:t,errorMessage:s,errorDetails:r,showDetails:i,retry:async()=>{n.value=!0;try{window.location.reload()}catch(h){console.error("重试失败:",h)}finally{n.value=!1}},goHome:()=>{e.push("/")},toggleDetails:()=>{t.value=!t.value}}}},Se={class:"error-page"},Ve={class:"content"},De={class:"actions"},Ie={key:0,class:"error-details"},Fe={key:0,class:"details-content"};function xe(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",Se,[o("div",Ve,[e[2]||(e[2]=o("div",{class:"error-icon"},"❌",-1)),e[3]||(e[3]=o("h2",null,"出错了",-1)),o("p",null,p(t.errorMessage||"系统遇到了一些问题"),1),o("div",De,[_(i,{type:"primary",onClick:t.retry,loading:t.retrying},{default:y(()=>e[0]||(e[0]=[b(" 重试 ")])),_:1,__:[0]},8,["onClick","loading"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-left":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" 返回首页 ")])),_:1,__:[1]},8,["onClick"])]),t.showDetails?(u(),c("div",Ie,[_(i,{type:"default",size:"small",onClick:t.toggleDetails},{default:y(()=>[b(p(t.detailsVisible?"隐藏详情":"查看详情"),1)]),_:1},8,["onClick"]),t.detailsVisible?(u(),c("div",Fe,[o("pre",null,p(t.errorDetails),1)])):f("v-if",!0)])):f("v-if",!0)])])}const Re=A(Ne,[["render",xe],["__scopeId","data-v-32e38e1e"],["__file","C:/web/pengyipeng/client/src/pages/Error.vue"]]);const Le={name:"MobileRequired"},Me={class:"mobile-required"};function Te(a,e,n,t,s,r){return u(),c("div",Me,e[0]||(e[0]=[R('<div class="content" data-v-387d492f><div class="icon" data-v-387d492f>📱</div><h2 data-v-387d492f>请使用手机访问</h2><p data-v-387d492f>NFC功能需要在移动设备上使用</p><div class="tips" data-v-387d492f><div class="tip-item" data-v-387d492f><span class="tip-icon" data-v-387d492f>📲</span><span data-v-387d492f>使用手机扫码访问</span></div><div class="tip-item" data-v-387d492f><span class="tip-icon" data-v-387d492f>🔗</span><span data-v-387d492f>或复制链接到手机浏览器</span></div></div></div>',1)]))}const Ee=A(Le,[["render",Te],["__scopeId","data-v-387d492f"],["__file","C:/web/pengyipeng/client/src/pages/MobileRequired.vue"]]);const He={name:"NoVideoAvailable",setup(){const a=I(),e=m(!1);return{retrying:e,retry:async()=>{e.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),window.location.reload()}finally{e.value=!1}},goHome:()=>{a.push("/")}}}},qe={class:"no-video-page"},$e={class:"content"},Oe={class:"actions"};function Ue(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",qe,[o("div",$e,[e[2]||(e[2]=R('<div class="icon" data-v-44bed91e>🎬</div><h2 data-v-44bed91e>暂无可用视频</h2><p data-v-44bed91e>当前没有可用的视频素材，请稍后再试</p><div class="suggestions" data-v-44bed91e><div class="suggestion-item" data-v-44bed91e><span class="suggestion-icon" data-v-44bed91e>⏰</span><span data-v-44bed91e>请稍后再试，我们正在准备更多精彩内容</span></div><div class="suggestion-item" data-v-44bed91e><span class="suggestion-icon" data-v-44bed91e>📞</span><span data-v-44bed91e>如有问题，请联系客服获取帮助</span></div></div>',4)),o("div",Oe,[_(i,{type:"primary",onClick:t.retry,loading:t.retrying},{default:y(()=>e[0]||(e[0]=[b(" 重新获取 ")])),_:1,__:[0]},8,["onClick","loading"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-top":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" 返回首页 ")])),_:1,__:[1]},8,["onClick"])])])])}const ze=A(He,[["render",Ue],["__scopeId","data-v-44bed91e"],["__file","C:/web/pengyipeng/client/src/pages/NoVideoAvailable.vue"]]);const We={name:"ShareSuccess",setup(){const a=I();return{shareMore:()=>{a.push("/nfc-redirect?store_id=demo&category=general")},goHome:()=>{a.push("/")}}}},je={class:"share-success-page"},Ke={class:"content"},Be={class:"actions"};function Ge(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",je,[o("div",Ke,[e[2]||(e[2]=R('<div class="success-animation" data-v-590bfbb4><div class="checkmark" data-v-590bfbb4>✅</div><div class="celebration" data-v-590bfbb4>🎉</div></div><h2 data-v-590bfbb4>分享成功！</h2><p data-v-590bfbb4>您的视频已成功跳转到抖音，快去发布吧！</p><div class="tips" data-v-590bfbb4><div class="tip-item" data-v-590bfbb4><span class="tip-icon" data-v-590bfbb4>📱</span><span data-v-590bfbb4>请在抖音中完成视频发布</span></div><div class="tip-item" data-v-590bfbb4><span class="tip-icon" data-v-590bfbb4>✏️</span><span data-v-590bfbb4>可以编辑视频标题和描述</span></div><div class="tip-item" data-v-590bfbb4><span class="tip-icon" data-v-590bfbb4>🏷️</span><span data-v-590bfbb4>记得添加相关话题标签</span></div></div>',4)),o("div",Be,[_(i,{type:"primary",onClick:t.shareMore},{default:y(()=>e[0]||(e[0]=[b(" 继续分享更多 ")])),_:1,__:[0]},8,["onClick"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-top":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" 返回首页 ")])),_:1,__:[1]},8,["onClick"])])])])}const Je=A(We,[["render",Ge],["__scopeId","data-v-590bfbb4"],["__file","C:/web/pengyipeng/client/src/pages/ShareSuccess.vue"]]);const Qe={name:"ShareFailed",setup(){const a=M(),e=I(),n=m(!1),t=m("");return T(()=>{t.value=a.query.error||a.query.msg||""}),{retrying:n,errorMessage:t,retry:async()=>{n.value=!0;try{await new Promise(i=>setTimeout(i,1e3)),e.push("/nfc-redirect?store_id=demo&category=general")}finally{n.value=!1}},goHome:()=>{e.push("/")}}}},Xe={class:"share-failed-page"},Ye={class:"content"},Ze={class:"actions"};function et(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",Xe,[o("div",Ye,[e[2]||(e[2]=o("div",{class:"failed-icon"},"❌",-1)),e[3]||(e[3]=o("h2",null,"分享失败",-1)),o("p",null,p(t.errorMessage||"抖音跳转遇到问题，请重试"),1),e[4]||(e[4]=R('<div class="solutions" data-v-c5219375><h3 data-v-c5219375>解决方案：</h3><div class="solution-item" data-v-c5219375><span class="solution-icon" data-v-c5219375>📱</span><div class="solution-text" data-v-c5219375><strong data-v-c5219375>检查抖音应用</strong><span data-v-c5219375>确保手机已安装最新版抖音</span></div></div><div class="solution-item" data-v-c5219375><span class="solution-icon" data-v-c5219375>🔗</span><div class="solution-text" data-v-c5219375><strong data-v-c5219375>手动打开抖音</strong><span data-v-c5219375>您可以手动打开抖音应用重试</span></div></div><div class="solution-item" data-v-c5219375><span class="solution-icon" data-v-c5219375>📞</span><div class="solution-text" data-v-c5219375><strong data-v-c5219375>联系客服</strong><span data-v-c5219375>如问题持续，请联系我们的客服</span></div></div></div>',1)),o("div",Ze,[_(i,{type:"primary",onClick:t.retry,loading:t.retrying},{default:y(()=>e[0]||(e[0]=[b(" 重试分享 ")])),_:1,__:[0]},8,["onClick","loading"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-top":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" 返回首页 ")])),_:1,__:[1]},8,["onClick"])])])])}const tt=A(Qe,[["render",et],["__scopeId","data-v-c5219375"],["__file","C:/web/pengyipeng/client/src/pages/ShareFailed.vue"]]),ot=[{path:"/",name:"Home",component:ce},{path:"/nfc-redirect",name:"NfcRedirect",component:Ae},{path:"/error",name:"Error",component:Re},{path:"/mobile-required",name:"MobileRequired",component:Ee},{path:"/no-video",name:"NoVideoAvailable",component:ze},{path:"/share-success",name:"ShareSuccess",component:Je},{path:"/share-failed",name:"ShareFailed",component:tt},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],q=O({history:U(),routes:ot});q.beforeEach((a,e,n)=>{a.meta.title&&(document.title=a.meta.title);const t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(a.name==="NFCRedirect"&&!t){n("/mobile-required");return}a.meta.requiresAuth&&console.log("🔐 需要权限验证"),n()});const st={name:"App",mounted(){console.log("🚀 NFC抖音视频应用已启动"),this.detectDevice(),this.checkNFCSupport()},methods:{detectDevice(){const a=navigator.userAgent,e=/iPhone|iPad|iPod/i.test(a),n=/Android/i.test(a);console.log("📱 设备检测:",{isIOS:e,isAndroid:n,userAgent:a.slice(0,50)+"..."})},checkNFCSupport(){"NDEFReader"in window?console.log("✅ 设备支持Web NFC"):console.log("⚠️ 设备不支持Web NFC，将使用URL跳转方式")}}},nt={id:"app"};function at(a,e,n,t,s,r){const i=w("router-view");return u(),c("div",nt,[_(i)])}const it=A(st,[["render",at],["__file","C:/web/pengyipeng/client/src/App.vue"]]);const F=z(it);F.use(W());F.use(q);F.use(H);F.config.globalProperties.$toast=H.Toast;F.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(()=>{console.log("✅ PWA服务注册成功")}).catch(()=>{console.log("❌ PWA服务注册失败")})});
