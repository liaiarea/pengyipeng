import{J as I,r as m,K as w,L as c,M as f,N as o,k as _,O as y,P as p,F as D,Q as L,R as u,B as b,S as M,f as T,U as R,V as O,W as U,D as z,X as W}from"./vendor-0571578d.js";import{T as l,s as H}from"./ui-dfe0eb9d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const A=(a,e)=>{const n=a.__vccOpts||a;for(const[t,s]of e)n[t]=s;return n},j={name:"Home",setup(){const a=I(),e=m(!1),n=m(!1),t=m(!1),s=m(null),r=m(null);return{nfcLoading:e,apiLoading:n,videoLoading:t,apiStatus:s,currentVideo:r,steps:[{title:"æµ‹è¯•APIè¿æ¥",description:"ç‚¹å‡»ã€Œæµ‹è¯•è§†é¢‘APIã€ç¡®è®¤å¿«å­APIæ­£å¸¸å·¥ä½œ"},{title:"è·å–éšæœºè§†é¢‘",description:"ç‚¹å‡»ã€Œè·å–éšæœºè§†é¢‘ã€ä»26000+è§†é¢‘åº“ä¸­éšæœºé€‰æ‹©"},{title:"åˆ†äº«åˆ°æŠ–éŸ³",description:"ç‚¹å‡»ã€Œå‘å¸ƒåˆ°æŠ–éŸ³ã€ç›´æ¥è·³è½¬æŠ–éŸ³å‘å¸ƒé¡µé¢"},{title:"NFCæ ‡ç­¾é…ç½®",description:"å°†ç½‘å€å†™å…¥NFCæ ‡ç­¾ï¼Œå®ç°ä¸€ç¢°å³å‘åŠŸèƒ½"}],simulateNFC:async()=>{try{e.value=!0,l.loading({message:"æ¨¡æ‹ŸNFCè§¦å‘ä¸­...",forbidClick:!0,duration:0}),await new Promise(d=>setTimeout(d,1e3)),l.clear(),l.success("NFCè§¦å‘æˆåŠŸï¼"),a.push({path:"/nfc-redirect",query:{store_id:"demo_store",category:"entertainment"}})}catch(d){l.clear(),l.fail("NFCæ¨¡æ‹Ÿå¤±è´¥"),console.error("NFCæ¨¡æ‹Ÿå¤±è´¥:",d)}finally{e.value=!1}},testKuaiziAPI:async()=>{var d;try{n.value=!0,l.loading({message:"æµ‹è¯•APIè¿æ¥ä¸­...",forbidClick:!0,duration:0});const v=await(await fetch("/api/kuaizi/test",{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(l.clear(),v.code===200)s.value=v.data,l.success({message:`APIè¿æ¥æˆåŠŸï¼å…±${(d=v.data.total_videos)==null?void 0:d.toLocaleString()}ä¸ªè§†é¢‘`,duration:3e3});else throw new Error(v.message||"APIæµ‹è¯•å¤±è´¥")}catch(C){l.clear(),l.fail(`APIæµ‹è¯•å¤±è´¥: ${C.message}`),console.error("APIæµ‹è¯•å¤±è´¥:",C)}finally{n.value=!1}},getRandomVideo:async()=>{try{t.value=!0,l.loading({message:"è·å–éšæœºè§†é¢‘ä¸­...",forbidClick:!0,duration:0});const C=await(await fetch("/api/kuaizi/random-video",{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(l.clear(),C.code===200)r.value=C.data.video,l.success("è·å–éšæœºè§†é¢‘æˆåŠŸï¼");else throw new Error(C.message||"è·å–è§†é¢‘å¤±è´¥")}catch(d){l.clear(),l.fail(`è·å–è§†é¢‘å¤±è´¥: ${d.message}`),console.error("è·å–è§†é¢‘å¤±è´¥:",d)}finally{t.value=!1}},shareToDouyin:()=>{if(!r.value){l.fail("è¯·å…ˆè·å–è§†é¢‘");return}try{const d=navigator.userAgent,C=/iPhone|iPad|iPod/i.test(d),v=/Android/i.test(d);if(!C&&!v){l.fail("è¯·åœ¨æ‰‹æœºä¸Šæ‰“å¼€æ­¤é¡µé¢");return}const k=encodeURIComponent(r.value.video_url),V=encodeURIComponent(r.value.caption||"ç²¾å½©è§†é¢‘å†…å®¹"),x=`snssdk1128://openRecordPage?recordOrigin=system&recordParam={"video_url":"${k}","caption":"${V}"}`;console.log("ğŸ”— æŠ–éŸ³åˆ†äº«é“¾æ¥:",x),window.location.href=x,l.success("æ­£åœ¨è·³è½¬æŠ–éŸ³...")}catch(d){l.fail("åˆ†äº«å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("åˆ†äº«å¤±è´¥:",d)}},formatDuration:d=>{if(!d)return"0:00";const C=Math.floor(d/60),v=Math.floor(d%60);return`${C}:${v.toString().padStart(2,"0")}`}}}},K={class:"home"},B={class:"features"},G={class:"feature-card"},J={class:"feature-card"},Q={class:"feature-card"},X={class:"feature-card"},Y={key:0,class:"api-status"},Z={key:1,class:"current-video"},ee={class:"video-info"},te=["src","alt"],oe={class:"video-details"},se={class:"video-title"},ne={class:"video-stats"},ae={key:0,class:"hashtags"},ie={class:"instructions"},re={class:"step-number"},le={class:"step-content"};function de(a,e,n,t,s,r){var N;const i=w("van-button"),g=w("van-cell"),S=w("van-cell-group");return u(),c("div",K,[f(" å¤´éƒ¨æ ‡é¢˜ "),e[15]||(e[15]=o("div",{class:"header"},[o("h1",null,"ç¢°ä¸€ç¢°å‘æŠ–éŸ³"),o("p",null,"NFCä¸€ç¢°å³å‘ï¼Œè§†é¢‘è¥é”€ç¥å™¨")],-1)),f(" åŠŸèƒ½å¡ç‰‡ "),o("div",B,[f(" NFCåŠŸèƒ½æ¨¡æ‹Ÿ "),o("div",G,[e[0]||(e[0]=o("div",{class:"feature-icon"},"ğŸ“±",-1)),e[1]||(e[1]=o("h3",null,"NFCè§¦å‘",-1)),e[2]||(e[2]=o("p",null,"æ¨¡æ‹ŸNFCæ ‡ç­¾è§¦å‘",-1)),_(i,{type:"primary",block:"",onClick:t.simulateNFC,loading:t.nfcLoading},{default:y(()=>[b(p(t.nfcLoading?"è·³è½¬ä¸­...":"æ¨¡æ‹ŸNFCè§¦å‘"),1)]),_:1},8,["onClick","loading"])]),f(" å¿«å­APIæµ‹è¯• "),o("div",J,[e[3]||(e[3]=o("div",{class:"feature-icon"},"ğŸ¬",-1)),e[4]||(e[4]=o("h3",null,"è§†é¢‘æµ‹è¯•",-1)),e[5]||(e[5]=o("p",null,"æµ‹è¯•å¿«å­APIè¿æ¥",-1)),_(i,{type:"success",block:"",onClick:t.testKuaiziAPI,loading:t.apiLoading},{default:y(()=>[b(p(t.apiLoading?"æµ‹è¯•ä¸­...":"æµ‹è¯•è§†é¢‘API"),1)]),_:1},8,["onClick","loading"])]),f(" éšæœºè§†é¢‘ "),o("div",Q,[e[6]||(e[6]=o("div",{class:"feature-icon"},"ğŸ²",-1)),e[7]||(e[7]=o("h3",null,"éšæœºè§†é¢‘",-1)),e[8]||(e[8]=o("p",null,"è·å–éšæœºè§†é¢‘å†…å®¹",-1)),_(i,{type:"primary",block:"",onClick:t.getRandomVideo,loading:t.videoLoading},{default:y(()=>[b(p(t.videoLoading?"è·å–ä¸­...":"è·å–éšæœºè§†é¢‘"),1)]),_:1},8,["onClick","loading"])]),f(" åˆ†äº«åˆ°æŠ–éŸ³ "),o("div",X,[e[10]||(e[10]=o("div",{class:"feature-icon"},"ğŸµ",-1)),e[11]||(e[11]=o("h3",null,"æŠ–éŸ³åˆ†äº«",-1)),e[12]||(e[12]=o("p",null,"ç›´æ¥è·³è½¬æŠ–éŸ³å‘å¸ƒ",-1)),_(i,{type:"warning",block:"",onClick:t.shareToDouyin,disabled:!t.currentVideo},{default:y(()=>e[9]||(e[9]=[b(" å‘å¸ƒåˆ°æŠ–éŸ³ ")])),_:1,__:[9]},8,["onClick","disabled"])])]),f(" APIçŠ¶æ€æ˜¾ç¤º "),t.apiStatus?(u(),c("div",Y,[_(S,null,{default:y(()=>{var h,P,d;return[_(g,{title:"APIçŠ¶æ€",value:t.apiStatus.status},null,8,["value"]),_(g,{title:"è§†é¢‘æ€»æ•°",value:((h=t.apiStatus.total_videos)==null?void 0:h.toLocaleString())||"0"},null,8,["value"]),_(g,{title:"APP-KEY",value:((P=t.apiStatus.config)==null?void 0:P.app_key)||"æœªé…ç½®"},null,8,["value"]),_(g,{title:"è´¦æˆ·ID",value:((d=t.apiStatus.config)==null?void 0:d.account_id)||"æœªé…ç½®"},null,8,["value"])]}),_:1})])):f("v-if",!0),f(" å½“å‰è§†é¢‘ä¿¡æ¯ "),t.currentVideo?(u(),c("div",Z,[e[13]||(e[13]=o("h3",null,"å½“å‰è§†é¢‘",-1)),o("div",ee,[o("img",{src:t.currentVideo.cover_url,alt:t.currentVideo.caption,class:"video-cover"},null,8,te),o("div",oe,[o("p",se,p(t.currentVideo.caption),1),o("p",ne,p(t.formatDuration(t.currentVideo.duration))+" | "+p(t.currentVideo.width)+"x"+p(t.currentVideo.height),1),(N=t.currentVideo.hashtags)!=null&&N.length?(u(),c("div",ae,[(u(!0),c(D,null,L(t.currentVideo.hashtags.slice(0,3),h=>(u(),c("span",{key:h,class:"hashtag"}," #"+p(h),1))),128))])):f("v-if",!0)])])])):f("v-if",!0),f(" ä½¿ç”¨è¯´æ˜ "),o("div",ie,[e[14]||(e[14]=o("h3",null,"ä½¿ç”¨è¯´æ˜",-1)),(u(!0),c(D,null,L(t.steps,(h,P)=>(u(),c("div",{class:"step",key:P},[o("div",re,p(P+1),1),o("div",le,[o("h4",null,p(h.title),1),o("p",null,p(h.description),1)])]))),128))])])}const ce=A(j,[["render",de],["__scopeId","data-v-933e9cdf"],["__file","C:/web/pengyipeng/client/src/pages/Home.vue"]]);const ue={name:"NfcRedirect",setup(){const a=M(),e=m(!0),n=m(!1),t=m(null),s=m(null),r=a.query.store_id||"default",i=a.query.category||"general",g=async()=>{try{e.value=!0,s.value=null,console.log("ğŸ” è·å–éšæœºè§†é¢‘å‚æ•°:",{storeId:r,category:i});const k=await(await fetch("/api/kuaizi/random-video",{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(k.code===200)t.value=k.data.video,console.log("âœ… è·å–éšæœºè§†é¢‘æˆåŠŸ:",t.value),l.success({message:"è§†é¢‘åŠ è½½æˆåŠŸï¼",duration:1500});else throw new Error(k.message||"è·å–è§†é¢‘å¤±è´¥")}catch(v){console.error("âŒ è·å–è§†é¢‘å¤±è´¥:",v),s.value=v.message||"ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿æ¥",l.fail({message:"è·å–è§†é¢‘å¤±è´¥",duration:2e3})}finally{e.value=!1}},S=async()=>{if(t.value)try{n.value=!0,l.loading({message:"æ­£åœ¨è·³è½¬æŠ–éŸ³...",forbidClick:!0,duration:0});const v=navigator.userAgent,k=/iPhone|iPad|iPod/i.test(v),V=/Android/i.test(v);if(!k&&!V)throw new Error("è¯·åœ¨æ‰‹æœºä¸Šæ‰“å¼€æ­¤é¡µé¢");const x=encodeURIComponent(t.value.video_url),$=encodeURIComponent(t.value.caption||"ç²¾å½©è§†é¢‘å†…å®¹"),E=`snssdk1128://openRecordPage?recordOrigin=system&recordParam={"video_url":"${x}","caption":"${$}"}`;console.log("ğŸ”— æŠ–éŸ³åˆ†äº«é“¾æ¥:",E),window.location.href=E,setTimeout(()=>{l.clear(),l({message:"å¦‚æœæ²¡æœ‰è‡ªåŠ¨è·³è½¬ï¼Œè¯·æ‰‹åŠ¨æ‰“å¼€æŠ–éŸ³",duration:3e3}),n.value=!1},3e3)}catch(v){console.error("âŒ åˆ†äº«å¤±è´¥:",v),l.clear(),l.fail(v.message||"åˆ†äº«å¤±è´¥ï¼Œè¯·é‡è¯•"),n.value=!1}},N=()=>{e.value||n.value||(t.value=null,g())},h=()=>{g()},P=v=>{if(!v)return"0:00";const k=Math.floor(v/60),V=Math.floor(v%60);return`${k}:${V.toString().padStart(2,"0")}`},d=()=>{console.log("ğŸ¬ è§†é¢‘å¼€å§‹åŠ è½½")},C=()=>{console.log("âœ… è§†é¢‘å¯ä»¥æ’­æ”¾")};return T(()=>{g()}),{loading:e,redirecting:n,videoData:t,error:s,shareToDouyin:S,refreshVideo:N,retry:h,formatDuration:P,onVideoLoadStart:d,onVideoCanPlay:C}}},ve={class:"nfc-redirect"},pe={key:0,class:"loading-container"},_e={class:"video-preview"},fe={class:"video-container"},ge=["src","poster"],me={class:"video-info"},ye={key:0,class:"hashtags"},be={class:"video-stats"},he={class:"duration"},Ce={class:"resolution"},ke={class:"action-buttons"},we={class:"error-container"};function Pe(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",ve,[f(" åŠ è½½çŠ¶æ€ "),t.loading?(u(),c("div",pe,e[2]||(e[2]=[o("div",{class:"loading-spinner"},null,-1),o("h2",null,"æ­£åœ¨è·å–è§†é¢‘...",-1),o("p",null,"è¯·ç¨ç­‰ï¼Œé©¬ä¸Šå°±å¥½ ğŸ¬",-1)]))):t.videoData&&!t.redirecting?(u(),c(D,{key:1},[f(" è§†é¢‘é¢„è§ˆ "),o("div",_e,[o("div",fe,[o("video",{src:t.videoData.video_url,poster:t.videoData.cover_url,controls:"",playsinline:"","webkit-playsinline":"",onLoadstart:e[0]||(e[0]=(...g)=>t.onVideoLoadStart&&t.onVideoLoadStart(...g)),onCanplay:e[1]||(e[1]=(...g)=>t.onVideoCanPlay&&t.onVideoCanPlay(...g))},null,40,ge)]),o("div",me,[o("h3",null,p(t.videoData.caption||"ç²¾å½©è§†é¢‘å†…å®¹"),1),t.videoData.hashtags&&t.videoData.hashtags.length?(u(),c("div",ye,[(u(!0),c(D,null,L(t.videoData.hashtags,g=>(u(),c("span",{key:g,class:"hashtag"}," #"+p(g),1))),128))])):f("v-if",!0),o("div",be,[o("span",he,"â±ï¸ "+p(t.formatDuration(t.videoData.duration)),1),o("span",Ce,"ğŸ“º "+p(t.videoData.width)+"x"+p(t.videoData.height),1)])]),o("div",ke,[_(i,{type:"primary",size:"large",block:"",onClick:t.shareToDouyin,loading:t.redirecting},{default:y(()=>[b(p(t.redirecting?"æ­£åœ¨è·³è½¬æŠ–éŸ³...":"å‘å¸ƒåˆ°æŠ–éŸ³ ğŸµ"),1)]),_:1},8,["onClick","loading"]),_(i,{type:"default",size:"large",block:"",onClick:t.refreshVideo,disabled:t.redirecting||t.loading,style:{"margin-top":"12px"}},{default:y(()=>e[3]||(e[3]=[b(" æ¢ä¸€ä¸ªè§†é¢‘ ğŸ”„ ")])),_:1,__:[3]},8,["onClick","disabled"])])])],2112)):t.error?(u(),c(D,{key:2},[f(" é”™è¯¯çŠ¶æ€ "),o("div",we,[e[5]||(e[5]=o("div",{class:"error-icon"},"âŒ",-1)),e[6]||(e[6]=o("h2",null,"è·å–è§†é¢‘å¤±è´¥",-1)),o("p",null,p(t.error),1),_(i,{type:"primary",onClick:t.retry,style:{"margin-top":"20px"}},{default:y(()=>e[4]||(e[4]=[b(" é‡è¯• ")])),_:1,__:[4]},8,["onClick"])])],2112)):f("v-if",!0)])}const Ae=A(ue,[["render",Pe],["__scopeId","data-v-ed8dcb0b"],["__file","C:/web/pengyipeng/client/src/pages/NfcRedirect.vue"]]);const Ne={name:"Error",setup(){const a=M(),e=I(),n=m(!1),t=m(!1),s=m(""),r=m(""),i=m(!1);return T(()=>{s.value=a.query.msg||"ç³»ç»Ÿé‡åˆ°äº†ä¸€äº›é—®é¢˜",r.value=a.query.details||"",i.value=!!r.value}),{retrying:n,detailsVisible:t,errorMessage:s,errorDetails:r,showDetails:i,retry:async()=>{n.value=!0;try{window.location.reload()}catch(h){console.error("é‡è¯•å¤±è´¥:",h)}finally{n.value=!1}},goHome:()=>{e.push("/")},toggleDetails:()=>{t.value=!t.value}}}},Se={class:"error-page"},Ve={class:"content"},De={class:"actions"},Ie={key:0,class:"error-details"},Fe={key:0,class:"details-content"};function xe(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",Se,[o("div",Ve,[e[2]||(e[2]=o("div",{class:"error-icon"},"âŒ",-1)),e[3]||(e[3]=o("h2",null,"å‡ºé”™äº†",-1)),o("p",null,p(t.errorMessage||"ç³»ç»Ÿé‡åˆ°äº†ä¸€äº›é—®é¢˜"),1),o("div",De,[_(i,{type:"primary",onClick:t.retry,loading:t.retrying},{default:y(()=>e[0]||(e[0]=[b(" é‡è¯• ")])),_:1,__:[0]},8,["onClick","loading"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-left":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" è¿”å›é¦–é¡µ ")])),_:1,__:[1]},8,["onClick"])]),t.showDetails?(u(),c("div",Ie,[_(i,{type:"default",size:"small",onClick:t.toggleDetails},{default:y(()=>[b(p(t.detailsVisible?"éšè—è¯¦æƒ…":"æŸ¥çœ‹è¯¦æƒ…"),1)]),_:1},8,["onClick"]),t.detailsVisible?(u(),c("div",Fe,[o("pre",null,p(t.errorDetails),1)])):f("v-if",!0)])):f("v-if",!0)])])}const Re=A(Ne,[["render",xe],["__scopeId","data-v-32e38e1e"],["__file","C:/web/pengyipeng/client/src/pages/Error.vue"]]);const Le={name:"MobileRequired"},Me={class:"mobile-required"};function Te(a,e,n,t,s,r){return u(),c("div",Me,e[0]||(e[0]=[R('<div class="content" data-v-387d492f><div class="icon" data-v-387d492f>ğŸ“±</div><h2 data-v-387d492f>è¯·ä½¿ç”¨æ‰‹æœºè®¿é—®</h2><p data-v-387d492f>NFCåŠŸèƒ½éœ€è¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨</p><div class="tips" data-v-387d492f><div class="tip-item" data-v-387d492f><span class="tip-icon" data-v-387d492f>ğŸ“²</span><span data-v-387d492f>ä½¿ç”¨æ‰‹æœºæ‰«ç è®¿é—®</span></div><div class="tip-item" data-v-387d492f><span class="tip-icon" data-v-387d492f>ğŸ”—</span><span data-v-387d492f>æˆ–å¤åˆ¶é“¾æ¥åˆ°æ‰‹æœºæµè§ˆå™¨</span></div></div></div>',1)]))}const Ee=A(Le,[["render",Te],["__scopeId","data-v-387d492f"],["__file","C:/web/pengyipeng/client/src/pages/MobileRequired.vue"]]);const He={name:"NoVideoAvailable",setup(){const a=I(),e=m(!1);return{retrying:e,retry:async()=>{e.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),window.location.reload()}finally{e.value=!1}},goHome:()=>{a.push("/")}}}},qe={class:"no-video-page"},$e={class:"content"},Oe={class:"actions"};function Ue(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",qe,[o("div",$e,[e[2]||(e[2]=R('<div class="icon" data-v-44bed91e>ğŸ¬</div><h2 data-v-44bed91e>æš‚æ— å¯ç”¨è§†é¢‘</h2><p data-v-44bed91e>å½“å‰æ²¡æœ‰å¯ç”¨çš„è§†é¢‘ç´ æï¼Œè¯·ç¨åå†è¯•</p><div class="suggestions" data-v-44bed91e><div class="suggestion-item" data-v-44bed91e><span class="suggestion-icon" data-v-44bed91e>â°</span><span data-v-44bed91e>è¯·ç¨åå†è¯•ï¼Œæˆ‘ä»¬æ­£åœ¨å‡†å¤‡æ›´å¤šç²¾å½©å†…å®¹</span></div><div class="suggestion-item" data-v-44bed91e><span class="suggestion-icon" data-v-44bed91e>ğŸ“</span><span data-v-44bed91e>å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœè·å–å¸®åŠ©</span></div></div>',4)),o("div",Oe,[_(i,{type:"primary",onClick:t.retry,loading:t.retrying},{default:y(()=>e[0]||(e[0]=[b(" é‡æ–°è·å– ")])),_:1,__:[0]},8,["onClick","loading"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-top":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" è¿”å›é¦–é¡µ ")])),_:1,__:[1]},8,["onClick"])])])])}const ze=A(He,[["render",Ue],["__scopeId","data-v-44bed91e"],["__file","C:/web/pengyipeng/client/src/pages/NoVideoAvailable.vue"]]);const We={name:"ShareSuccess",setup(){const a=I();return{shareMore:()=>{a.push("/nfc-redirect?store_id=demo&category=general")},goHome:()=>{a.push("/")}}}},je={class:"share-success-page"},Ke={class:"content"},Be={class:"actions"};function Ge(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",je,[o("div",Ke,[e[2]||(e[2]=R('<div class="success-animation" data-v-590bfbb4><div class="checkmark" data-v-590bfbb4>âœ…</div><div class="celebration" data-v-590bfbb4>ğŸ‰</div></div><h2 data-v-590bfbb4>åˆ†äº«æˆåŠŸï¼</h2><p data-v-590bfbb4>æ‚¨çš„è§†é¢‘å·²æˆåŠŸè·³è½¬åˆ°æŠ–éŸ³ï¼Œå¿«å»å‘å¸ƒå§ï¼</p><div class="tips" data-v-590bfbb4><div class="tip-item" data-v-590bfbb4><span class="tip-icon" data-v-590bfbb4>ğŸ“±</span><span data-v-590bfbb4>è¯·åœ¨æŠ–éŸ³ä¸­å®Œæˆè§†é¢‘å‘å¸ƒ</span></div><div class="tip-item" data-v-590bfbb4><span class="tip-icon" data-v-590bfbb4>âœï¸</span><span data-v-590bfbb4>å¯ä»¥ç¼–è¾‘è§†é¢‘æ ‡é¢˜å’Œæè¿°</span></div><div class="tip-item" data-v-590bfbb4><span class="tip-icon" data-v-590bfbb4>ğŸ·ï¸</span><span data-v-590bfbb4>è®°å¾—æ·»åŠ ç›¸å…³è¯é¢˜æ ‡ç­¾</span></div></div>',4)),o("div",Be,[_(i,{type:"primary",onClick:t.shareMore},{default:y(()=>e[0]||(e[0]=[b(" ç»§ç»­åˆ†äº«æ›´å¤š ")])),_:1,__:[0]},8,["onClick"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-top":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" è¿”å›é¦–é¡µ ")])),_:1,__:[1]},8,["onClick"])])])])}const Je=A(We,[["render",Ge],["__scopeId","data-v-590bfbb4"],["__file","C:/web/pengyipeng/client/src/pages/ShareSuccess.vue"]]);const Qe={name:"ShareFailed",setup(){const a=M(),e=I(),n=m(!1),t=m("");return T(()=>{t.value=a.query.error||a.query.msg||""}),{retrying:n,errorMessage:t,retry:async()=>{n.value=!0;try{await new Promise(i=>setTimeout(i,1e3)),e.push("/nfc-redirect?store_id=demo&category=general")}finally{n.value=!1}},goHome:()=>{e.push("/")}}}},Xe={class:"share-failed-page"},Ye={class:"content"},Ze={class:"actions"};function et(a,e,n,t,s,r){const i=w("van-button");return u(),c("div",Xe,[o("div",Ye,[e[2]||(e[2]=o("div",{class:"failed-icon"},"âŒ",-1)),e[3]||(e[3]=o("h2",null,"åˆ†äº«å¤±è´¥",-1)),o("p",null,p(t.errorMessage||"æŠ–éŸ³è·³è½¬é‡åˆ°é—®é¢˜ï¼Œè¯·é‡è¯•"),1),e[4]||(e[4]=R('<div class="solutions" data-v-c5219375><h3 data-v-c5219375>è§£å†³æ–¹æ¡ˆï¼š</h3><div class="solution-item" data-v-c5219375><span class="solution-icon" data-v-c5219375>ğŸ“±</span><div class="solution-text" data-v-c5219375><strong data-v-c5219375>æ£€æŸ¥æŠ–éŸ³åº”ç”¨</strong><span data-v-c5219375>ç¡®ä¿æ‰‹æœºå·²å®‰è£…æœ€æ–°ç‰ˆæŠ–éŸ³</span></div></div><div class="solution-item" data-v-c5219375><span class="solution-icon" data-v-c5219375>ğŸ”—</span><div class="solution-text" data-v-c5219375><strong data-v-c5219375>æ‰‹åŠ¨æ‰“å¼€æŠ–éŸ³</strong><span data-v-c5219375>æ‚¨å¯ä»¥æ‰‹åŠ¨æ‰“å¼€æŠ–éŸ³åº”ç”¨é‡è¯•</span></div></div><div class="solution-item" data-v-c5219375><span class="solution-icon" data-v-c5219375>ğŸ“</span><div class="solution-text" data-v-c5219375><strong data-v-c5219375>è”ç³»å®¢æœ</strong><span data-v-c5219375>å¦‚é—®é¢˜æŒç»­ï¼Œè¯·è”ç³»æˆ‘ä»¬çš„å®¢æœ</span></div></div></div>',1)),o("div",Ze,[_(i,{type:"primary",onClick:t.retry,loading:t.retrying},{default:y(()=>e[0]||(e[0]=[b(" é‡è¯•åˆ†äº« ")])),_:1,__:[0]},8,["onClick","loading"]),_(i,{type:"default",onClick:t.goHome,style:{"margin-top":"12px"}},{default:y(()=>e[1]||(e[1]=[b(" è¿”å›é¦–é¡µ ")])),_:1,__:[1]},8,["onClick"])])])])}const tt=A(Qe,[["render",et],["__scopeId","data-v-c5219375"],["__file","C:/web/pengyipeng/client/src/pages/ShareFailed.vue"]]),ot=[{path:"/",name:"Home",component:ce},{path:"/nfc-redirect",name:"NfcRedirect",component:Ae},{path:"/error",name:"Error",component:Re},{path:"/mobile-required",name:"MobileRequired",component:Ee},{path:"/no-video",name:"NoVideoAvailable",component:ze},{path:"/share-success",name:"ShareSuccess",component:Je},{path:"/share-failed",name:"ShareFailed",component:tt},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],q=O({history:U(),routes:ot});q.beforeEach((a,e,n)=>{a.meta.title&&(document.title=a.meta.title);const t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(a.name==="NFCRedirect"&&!t){n("/mobile-required");return}a.meta.requiresAuth&&console.log("ğŸ” éœ€è¦æƒé™éªŒè¯"),n()});const st={name:"App",mounted(){console.log("ğŸš€ NFCæŠ–éŸ³è§†é¢‘åº”ç”¨å·²å¯åŠ¨"),this.detectDevice(),this.checkNFCSupport()},methods:{detectDevice(){const a=navigator.userAgent,e=/iPhone|iPad|iPod/i.test(a),n=/Android/i.test(a);console.log("ğŸ“± è®¾å¤‡æ£€æµ‹:",{isIOS:e,isAndroid:n,userAgent:a.slice(0,50)+"..."})},checkNFCSupport(){"NDEFReader"in window?console.log("âœ… è®¾å¤‡æ”¯æŒWeb NFC"):console.log("âš ï¸ è®¾å¤‡ä¸æ”¯æŒWeb NFCï¼Œå°†ä½¿ç”¨URLè·³è½¬æ–¹å¼")}}},nt={id:"app"};function at(a,e,n,t,s,r){const i=w("router-view");return u(),c("div",nt,[_(i)])}const it=A(st,[["render",at],["__file","C:/web/pengyipeng/client/src/App.vue"]]);const F=z(it);F.use(W());F.use(q);F.use(H);F.config.globalProperties.$toast=H.Toast;F.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(()=>{console.log("âœ… PWAæœåŠ¡æ³¨å†ŒæˆåŠŸ")}).catch(()=>{console.log("âŒ PWAæœåŠ¡æ³¨å†Œå¤±è´¥")})});
